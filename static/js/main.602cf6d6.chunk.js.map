{"version":3,"sources":["models/Account.js","features/accounts/accountsSlice.js","constants.js","features/navigation/TopAppBar.js","features/navigation/SideDrawer.js","components/AddEditDialog.js","features/journals/AddEditTransactionDialog.js","features/journals/TransactionSheet.js","features/journals/AddTransactionTypeForm.js","features/journals/Journals.js","features/capital-changes/CapitalChanges.js","features/asset-statements/AssetStatements.js","features/accounts/AddEditAssetDialog.js","components/SettingsSection.js","features/accounts/AccountMainSettings.js","features/accounts/AccountAssetsSettings.js","features/accounts/AccountSettings.js","App.js","features/navigation/navigationSlice.js","app/store.js","reportWebVitals.js","index.js"],"names":["defaultAccountSettings","accountingCurrency","asset","accountSettings","defaultAssets","defaultJournals","journal","transaction","dateTimeFormat","journalColumnSet","journalColumn","undefined","tradingColumns","expenseColumns","name","ticker","precision","pricePrecision","isCurrency","symbol","date","base","baseAmount","quote","quoteAmount","feeBase","feeQuote","notes","misc","price","extra","type","hide","transactions","columns","columnOrder","accountsSlice","createSlice","initialState","accounts","activeAccount","reducers","changeAccount","state","action","accountIndex","parseInt","payload","Math","max","addAccount","push","console","warn","addDefaultAccount","String","settings","assets","journals","account","addTransaction","changeAccountingCurrency","currency","addAsset","editAsset","index","actions","selectAccounts","selectActiveAccountIndex","selectActiveAccount","length","selectActiveAccountName","drawerWidth","useStyles","makeStyles","theme","root","menuButton","marginRight","spacing","display","props","drawerOpen","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarDrawerOpen","marginLeft","width","enteringScreen","TopAppBar","classes","useState","menuAnchor","setMenuAnchor","dispatch","useDispatch","useSelector","activeAccountIndex","activeAccountName","handleChangeAccount","e","Fragment","AppBar","position","className","clsx","Toolbar","IconButton","onClick","onMenuClick","color","aria-label","Typography","variant","currentTarget","aria-haspopup","Menu","anchorEl","open","Boolean","onClose","map","a","MenuItem","selected","toolbar","alignItems","justifyContent","padding","mixins","whiteSpace","drawerClose","overflowX","breakpoints","up","SideDrawer","path","useLocation","pathname","Drawer","anchor","paper","Divider","List","component","ListItem","button","Link","to","ListItemIcon","ListItemText","primary","ListSubheader","inset","disableSticky","AddEditDialog","Dialog","onEnter","DialogTitle","edit","objectName","DialogContent","dividers","children","DialogActions","Button","onReset","onSubmit","getCurrentLocalDateTime","currentDateTime","Date","getTimezoneOffset","toISOString","slice","AddEditTransactionDialog","trade","fee","feeCurrency","fields","setFields","resetForm","onDialogClose","preventDefault","Grid","container","item","xs","TextField","size","label","required","value","onChange","s","target","InputLabelProps","shrink","fullWidth","select","multiline","borderRadius","boxShadow","fab","bottom","right","TransactionSheet","dialogOpen","setDialogOpen","dialogEdit","setDialogEdit","active","role","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","tx","align","Fab","AddTransactionTypeForm","Journals","React","activeTab","setActiveTab","Tabs","v","Tab","icon","CapitalChanges","AssetStatements","AddEditAssetDialog","handleReset","onFieldsChange","FormControlLabel","control","Checkbox","checked","labelPlacement","paddingTop","paddingBottom","paddingLeft","paddingRight","SettingsSection","elevation","AccountMainSettings","accountingCurrencyDialogOpen","setAccountingCurrencyDialogOpen","accountingCurrencyFields","setaccountingCurrencyFields","startIcon","AccountAssetsSettings","addEditAssetDialogOpen","setAddEditAssetDialogOpen","selectedAsset","setSelectedAsset","addEditAssetFields","setAddEditAssetFields","i","AccountSettings","Container","Box","my","App","openDrawer","bind","closeDrawer","this","setState","content","Component","withStyles","flexGrow","connect","navigationSlice","user","changeUser","page","configureStore","reducer","navigation","navigationReducer","accountsReducer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","CssBaseline","store","document","getElementById"],"mappings":"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","file":"static/js/main.602cf6d6.chunk.js","sourcesContent":["const defaultAccountSettings = accountSettings(\r\n  asset('United States Dollar', 'USD', 2, 4, true, '$'),\r\n);\r\nconst defaultAssets = [\r\n  asset('Bitcoin', 'BTC', 8, 2, true, '₿'),\r\n];\r\nconst defaultJournals = [\r\n  journal(\r\n    'Trading',\r\n    'trading',\r\n    [\r\n      transaction('01/01/2021', 'BTC', 1, 'USD', 50000, 0, 20, 'First transaction'),\r\n      transaction('02/01/2021', 'BTC', 0.5, 'USD', 25000, 0, 10, 'Second transaction'),\r\n    ],\r\n    tradingColumns(),\r\n    ['date', 'base', 'baseAmount', 'quote', 'quoteAmount', 'price', 'feeBase', 'feeQuote', 'notes'],\r\n  ),\r\n  journal(\r\n    'Misc fees',\r\n    'expense',\r\n    [],\r\n    expenseColumns(),\r\n    ['date', 'base', 'baseAmount', 'quote', 'quoteAmount', 'price', 'feeBase', 'feeQuote', 'notes'],\r\n  ),\r\n];\r\n\r\n/**\r\n * Account settings.\r\n * @param {Object} accountingCurrency The accounting currency of the account.\r\n * @returns An object with the given members.\r\n */\r\nexport function accountSettings(accountingCurrency = asset('United States Dollar', 'USD', '$', 2, 4)) {\r\n  return {accountingCurrency};\r\n}\r\n\r\n/**\r\n * Asset settings.\r\n * @param {String} name Name of the asset, e.g. Bitcoin.\r\n * @param {String} ticker Ticker of the asset, e.g. BTC.\r\n * @param {Number} precision The precision used to record amounts.\r\n * @param {Number} pricePrecision The default precision used to show prices.\r\n * @param {Boolean} isCurrency true if the asset is a currency.\r\n * @param {String} symbol Symbol of the asset, e.g. ₿.\r\n * @returns An object with the given members.\r\n */\r\nexport function asset(name, ticker, precision = 2, pricePrecision = 2, isCurrency = false, symbol = '') {\r\n  return {name, ticker, precision, pricePrecision, isCurrency, symbol};\r\n}\r\n\r\n/**\r\n * A transaction (trade, income or expense).\\\r\n * An income transaction has positive base and quote amounts.\\\r\n * An expense transaction has negative base and no quote amount.\\\r\n * A trade has opposite base and quote amount signs.\r\n * @param {Date} date Date of the transaction.\r\n * @param {String} base Base currency/asset.\r\n * @param {Number} baseAmount Amount of base changed, i.e. amount.\r\n * @param {String} quote Quote currency/asset.\r\n * @param {Number} quoteAmount Amount of quote changed, i.e. total.\r\n * @param {Number} feeBase Fee in base currency.\r\n * @param {Number} feeQuote Fee in quote currency.\r\n * @param {String} notes User written notes.\r\n * @param {Object[]} misc Extra properties, e.g. [{name: 'Exchange', type: 'string', value: 'NYSE'}].\r\n * @returns An object with the given members.\r\n */\r\nexport function transaction(\r\n  date,\r\n  base = 'USD',\r\n  baseAmount = 0,\r\n  quote = 'USD',\r\n  quoteAmount = 0,\r\n  feeBase = 0,\r\n  feeQuote = 0,\r\n  notes = '',\r\n  misc = []\r\n) {\r\n  return {date, base, baseAmount, quote, quoteAmount, feeBase, feeQuote, notes, misc};\r\n}\r\n\r\n/**\r\n * A set of journal columns.\r\n * @param {*} date Date journal column.\r\n * @param {*} base Base journal column.\r\n * @param {*} baseAmount Base amount journal column.\r\n * @param {*} quote Quote journal column.\r\n * @param {*} quoteAmount Quote amount journal column.\r\n * @param {*} price Price journal column.\r\n * @param {*} feeBase Fee in base curreny journal column.\r\n * @param {*} feeQuote Fee in quote curreny journal column.\r\n * @param {*} notes Notes journal column.\r\n * @param {*} extra Extra journal columns.\r\n * @returns An object with the given members.\r\n */\r\nexport function journalColumnSet(date, base, baseAmount, quote, quoteAmount, price, feeBase, feeQuote, notes, extra = []) {\r\n  return {\r\n    date, base, baseAmount, quote, quoteAmount, price, feeBase, feeQuote, notes, extra,\r\n  };\r\n}\r\n\r\nexport function tradingColumns(dateTimeFormat = 'date') {\r\n  return journalColumnSet(\r\n    journalColumn('Date', 'date', false, undefined, dateTimeFormat),\r\n    journalColumn('Asset', 'string', false),\r\n    journalColumn('Amount', 'number', false, 8),\r\n    journalColumn('Quote', 'string', true),\r\n    journalColumn('Total', 'number', false, 2),\r\n    journalColumn('Price', 'number', false, 2),\r\n    journalColumn('Fee (Base)', 'number', true, 8),\r\n    journalColumn('Fee', 'number', false, 2),\r\n    journalColumn('Notes', 'string', false),\r\n  );\r\n}\r\n\r\nexport function incomeColumns(dateTimeFormat = 'date') {\r\n  return journalColumnSet(\r\n    journalColumn('Date', 'date', false, undefined, dateTimeFormat),\r\n    journalColumn('Asset', 'string', false),\r\n    journalColumn('Amount', 'number', false, 2),\r\n    journalColumn('Quote', 'string', true),\r\n    journalColumn('Total', 'number', true, 2),\r\n    journalColumn('Price', 'number', true, 2),\r\n    journalColumn('Fee (Base)', 'number', true, 8),\r\n    journalColumn('Fee', 'number', true, 2),\r\n    journalColumn('Notes', 'string', false),\r\n  );\r\n}\r\n\r\nexport function expenseColumns(dateTimeFormat = 'date') {\r\n  return journalColumnSet(\r\n    journalColumn('Date', 'date', false, undefined, dateTimeFormat),\r\n    journalColumn('Asset', 'string', false),\r\n    journalColumn('Amount', 'number', false, 2),\r\n    journalColumn('Quote', 'string', true),\r\n    journalColumn('Total', 'number', true, 2),\r\n    journalColumn('Price', 'number', true, 2),\r\n    journalColumn('Fee (Base)', 'number', true, 8),\r\n    journalColumn('Fee', 'number', true, 2),\r\n    journalColumn('Notes', 'string', false),\r\n  );\r\n}\r\n\r\n/**\r\n * Journal column settings.\r\n * @param {String} name Name of the column.\r\n * @param {String} type Type of column, one of: 'date', 'string', 'number', 'integer'.\r\n * @param {Boolean} hide Hide the column if true.\r\n * @param {Number} precision Precision of the column if the type is 'number'.\r\n * @param {String} dateTimeFormat Date time format if the type is 'date', one of: 'date', 'time', 'datetime'.\r\n * @returns An object with the given members.\r\n */\r\nexport function journalColumn(name, type, hide = false, precision = 2, dateTimeFormat = 'date') {\r\n  return {name, type, hide, precision, dateTimeFormat};\r\n}\r\n\r\n/**\r\n * A journal for an account.\r\n * @param {String} name Name of the journal.\r\n * @param {String} type Type of the journal, one of: 'trading', 'income', 'expense'.\r\n * @param {Object[]} transactions List of transactions.\r\n * @param {Object} columns Mapping of columns and their settings.\r\n * @param {String[]} columnOrder The shown order of the columns.\r\n * @returns An object with the given members.\r\n */\r\nexport function journal(name, type = 'trading', transactions = [], columns = {}, columnOrder = []) {\r\n  return {name, type, transactions, columns, columnOrder};\r\n}\r\n\r\n/**\r\n * A trading account.\r\n * @param {String} name Name of the account.\r\n * @param {Object} settings Account settings.\r\n * @param {Object[]} assets Managed assets of the account.\r\n * @param {Object[]} journals List of Transaction journals.\r\n * @returns An object with the given members.\r\n */\r\nexport function account(name, settings = defaultAccountSettings, assets = defaultAssets, journals = defaultJournals,) {\r\n  return {name, settings, assets, journals};\r\n}","import { createSlice } from '@reduxjs/toolkit';\r\nimport { account } from '../../models/Account';\r\n\r\nexport const accountsSlice = createSlice({\r\n  name: 'transactions',\r\n  initialState: {\r\n    accounts: [],       // Array of accounts\r\n    activeAccount: 0,   // Integer\r\n  },\r\n  reducers: {\r\n    /**\r\n     * Change the active account (-1 for all accounts). Receives an index from the payload. Invalid values\r\n     * are evaluated as 0. Negative numbers are evaluated as -1 (all accounts).\r\n     */\r\n    // TODO rename to switchAccount\r\n    changeAccount: (state, action) => {\r\n      const accountIndex = parseInt(action.payload);\r\n      state.activeAccount = accountIndex ? Math.max(accountIndex, -1) : 0;\r\n    },\r\n    addAccount: (state, action) => {\r\n      if (action.payload) {\r\n        state.accounts.push(action.payload);\r\n      } else {\r\n        console.warn(`Attempted to add invalid account: ${action.payload}`);\r\n      }\r\n    },\r\n    addDefaultAccount: (state, action) => {\r\n      const name = action.payload ? String(action.payload) : 'New Account';\r\n      state.accounts.push(account(name));\r\n    },\r\n    addTransaction: (state, action) => {\r\n      // Takes payload: {account: activeAccountIndex, transaction: Tx, journal: journalIndex}\r\n      const account = state.accounts[action.payload.account || state.activeAccount];\r\n      const journal = action.payload.journal;\r\n      const transaction = action.payload.transaction;\r\n      account.journals[journal].transactions.push(transaction);\r\n    },\r\n    /**\r\n     * Changes the accounting currency. Receives payload {account: activeAccountIndex, currency: asset}.\r\n     * Ignores invalid values for currency.\r\n     */\r\n    changeAccountingCurrency: (state, action) => {\r\n      if (action.payload && 'currency' in action.payload) {\r\n        // Updates the active account if no account provided\r\n        const account = state.accounts[action.payload.account || state.activeAccount];\r\n        // TODO: input validation\r\n        account.settings.accountingCurrency = action.payload.currency;\r\n      } else {\r\n        console.warn(`changeAccountingCurrency: 'currency' not in payload`);\r\n      }\r\n    },\r\n    addAsset: (state, action) => {\r\n      if (action.payload && 'asset' in action.payload) {\r\n        // Updates the active account if no account provided\r\n        const account = state.accounts[action.payload.account || state.activeAccount];\r\n        // TODO: input validation\r\n        account.assets.push(action.payload.asset);\r\n      } else {\r\n        console.warn(`changeAccountingCurrency: 'asset' not in payload`);\r\n      }\r\n    },\r\n    editAsset: (state, action) => {\r\n      if (action.payload && 'asset' in action.payload && 'index' in action.payload) {\r\n        // Updates the active account if no account provided\r\n        const account = state.accounts[action.payload.account || state.activeAccount];\r\n        // TODO: input validation\r\n        account.assets[action.payload.index] = action.payload.asset;\r\n      } else {\r\n        console.warn(`changeAccountingCurrency: 'currency' not in payload`);\r\n      }\r\n    },\r\n  }\r\n});\r\n\r\n// Actions\r\nexport const {\r\n  changeAccount,\r\n  addAccount,\r\n  addDefaultAccount,\r\n  addTransaction,\r\n  changeAccountingCurrency,\r\n  addAsset,\r\n  editAsset,\r\n} = accountsSlice.actions;\r\n\r\n// Selectors\r\n// TODO consider selector errors\r\nexport const selectAccounts = state => state.accounts.accounts;\r\nexport const selectActiveAccountIndex = state => state.accounts.activeAccount;\r\nexport const selectActiveAccount = state => {\r\n  const accounts = selectAccounts(state);\r\n  const activeAccount = selectActiveAccountIndex(state);\r\n  return activeAccount < accounts.length ? accounts[activeAccount] : null;\r\n}\r\nexport const selectActiveAccountName = state => {\r\n  const activeAccount = selectActiveAccount(state);\r\n  return activeAccount ? activeAccount.name : 'No account selected';\r\n}\r\nexport const selectActiveAccountAccountingCurrency = state => {\r\n  const activeAccount = selectActiveAccount(state);\r\n  return activeAccount ? activeAccount.settings.accountingCurrency : null;\r\n}\r\nexport const selectActiveAccountAssets = state => {\r\n  const activeAccount = selectActiveAccount(state);\r\n  return activeAccount ? activeAccount.assets : [];\r\n}\r\n\r\nexport default accountsSlice.reducer;","export const drawerWidth = '15rem';","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx'\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowDropDownCircleIcon from '@material-ui/icons/ArrowDropDownCircle';\r\nimport { selectAccounts, selectActiveAccountIndex, selectActiveAccountName, changeAccount } from '../accounts/accountsSlice';\r\nimport { drawerWidth } from '../../constants';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    display: props => props.drawerOpen ? 'none' : 'initial'\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  },\r\n  appBarDrawerOpen: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth})`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  }\r\n}));\r\n\r\nfunction TopAppBar(props) {\r\n  const classes = useStyles(props);\r\n  // Controls the showing of the \"change account\" menu\r\n  const [menuAnchor, setMenuAnchor] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const accounts = useSelector(selectAccounts);\r\n  const activeAccountIndex = useSelector(selectActiveAccountIndex);\r\n  const activeAccountName = useSelector(selectActiveAccountName);\r\n\r\n  const handleChangeAccount = (index) => (e) => {\r\n    dispatch(changeAccount(index));\r\n    setMenuAnchor(null);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarDrawerOpen]: props.drawerOpen\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            onClick={props.onMenuClick}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\">{ activeAccountName }</Typography>\r\n          <IconButton\r\n            onClick={(e) => setMenuAnchor(e.currentTarget)}\r\n            color=\"inherit\"\r\n            aria-label=\"Change account\"\r\n            aria-haspopup=\"true\"\r\n          >\r\n            <ArrowDropDownCircleIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Menu\r\n        anchorEl={menuAnchor}\r\n        open={Boolean(menuAnchor)}\r\n        onClose={() => setMenuAnchor(null)}\r\n      >\r\n        {accounts.map((a, index) => (\r\n          <MenuItem onClick={handleChangeAccount(index)} selected={activeAccountIndex} key={index}>\r\n            { a.name }\r\n          </MenuItem>\r\n        ))}\r\n        <MenuItem>All Accounts</MenuItem>\r\n        <MenuItem>Create New Account</MenuItem>\r\n      </Menu>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default TopAppBar;","import { Link, useLocation } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport BookIcon from '@material-ui/icons/Book';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { drawerWidth } from '../../constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    \r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    // Have the same height as the top app bar\r\n    ...theme.mixins.toolbar\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    whiteSpace: 'nowrap',   // Prevent text wrapping when closing the drawer\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  drawerClose: {\r\n    overflowX: \"hidden\",\r\n    width: theme.spacing(7),\r\n    // Have extra space for the scrollbar if needed\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  }\r\n}));\r\n\r\n/**\r\n * See\r\n * - https://material-ui.com/components/drawers/#mini-variant-drawer\r\n * - https://material-ui.com/api/drawer/\r\n * - https://github.com/mui-org/material-ui/blob/master/docs/src/pages/getting-started/templates/dashboard/Dashboard.js\r\n * - https://material-ui.com/getting-started/templates/dashboard/\r\n */\r\nfunction SideDrawer(props) {\r\n  const classes = useStyles();\r\n  const location = useLocation();\r\n  const path = location.pathname;\r\n\r\n  return (\r\n    <Drawer\r\n      variant=\"permanent\"\r\n      anchor=\"left\"\r\n      classes={{\r\n        paper: clsx({\r\n          [classes.drawerOpen]: props.open,\r\n          [classes.drawerClose]: !props.open\r\n        })\r\n      }}\r\n      className={clsx(classes.drawer, {\r\n        [classes.drawerOpen]: props.open,\r\n        [classes.drawerClose]: !props.open\r\n      })}\r\n    >\r\n      <div className={classes.toolbar}>\r\n        <IconButton onClick={props.onClose}>\r\n          <ChevronLeftIcon />\r\n        </IconButton>\r\n      </div>\r\n      <Divider />\r\n      <List component=\"nav\" aria-label=\"Journals\">\r\n        <ListItem\r\n          button\r\n          component={Link}\r\n          to={'/journals'}\r\n          selected={path === '/journals' || path === '/'}\r\n        >\r\n          <ListItemIcon>\r\n            <CreateIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Journals\" />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          component={Link}\r\n          to={'/capital-changes'}\r\n          selected={path === '/capital-changes'}\r\n        >\r\n          <ListItemIcon>\r\n            <CreateIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Capital changes\" />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          component={Link}\r\n          to={'/asset-statements'}\r\n          selected={path === '/asset-statements'}\r\n        >\r\n          <ListItemIcon>\r\n            <BookIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Asset Statements\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List component=\"nav\" aria-label=\"Financials\">\r\n        <ListSubheader inset disableSticky={true}>Financials</ListSubheader>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Monthly\" />\r\n        </ListItem>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Quarterly\" />\r\n        </ListItem>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Biyearly\" />\r\n        </ListItem>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Yearly\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List component=\"nav\" aria-label=\"Account settings\">\r\n        <ListItem\r\n          button\r\n          component={Link}\r\n          to={'/account-settings'}\r\n          selected={path === '/account-settings'}\r\n        >\r\n          <ListItemIcon>\r\n            <SettingsIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Account settings\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nexport default SideDrawer;","import Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n/**\r\n * A dialog to add or edit an object.\r\n * \r\n * Props:\r\n * - objectName: Name of the object to add or edit. Appears in the title.\r\n * - edit: true for edit mode, false for add mode (affects text).\r\n * - open: Dialog shows if true.\r\n * - onClose - Function called when the dialog requests to be closed (cancel button or click away).\r\n * - onEnter - Function called before the dialog is opened.\r\n * - onReset - Function called when the \"reset\" button is clicked.\r\n * - onSubmit - Function called when the \"Add/Edit\" button is clicked.\r\n * - dividers - Display the DialogContent dividers if true\r\n */\r\nfunction AddEditDialog(props) {\r\n  return (\r\n    <Dialog open={props.open} onClose={props.onClose} onEnter={props.onEnter}>\r\n      <DialogTitle>{ `${props.edit ? 'Edit' : 'Add'} ${props.objectName || 'Item'}` }</DialogTitle>\r\n      <DialogContent dividers={Boolean(props.dividers)}>\r\n        { props.children }\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.onClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={props.onReset} color=\"primary\">\r\n          Reset\r\n        </Button>\r\n        <Button onClick={props.onSubmit} color=\"primary\">\r\n          { props.edit ? 'Edit' : 'Add' }\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default AddEditDialog;","import { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport AddEditDialog from '../../components/AddEditDialog';\r\nimport { addTransaction, selectActiveAccount } from '../accounts/accountsSlice';\r\nimport { transaction } from '../../models/Account';\r\n\r\n/**\r\n * @returns The current local date and time in \"yyyy-mm-ddThh:mm:ss:SSS\" format.\r\n */\r\nfunction getCurrentLocalDateTime() {\r\n  const currentDateTime = new Date();\r\n  return new Date(currentDateTime - currentDateTime.getTimezoneOffset() * 60 * 1000).toISOString().slice(0, 19);\r\n}\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   root: {\r\n\r\n//   },\r\n// }));\r\n\r\nfunction AddEditTransactionDialog(props) {\r\n  // const classes = useStyles();\r\n  const [fields, setFields] = useState({\r\n    date: '',\r\n    base: '',\r\n    quote: '',\r\n    trade: '',\r\n    baseAmount: '',\r\n    quoteAmount: '',\r\n    price: '',\r\n    fee: '',\r\n    feeCurrency: '',\r\n    notes: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const account = useSelector(selectActiveAccount);\r\n\r\n  const resetForm = () => {\r\n    setFields({\r\n      date: getCurrentLocalDateTime(),\r\n      base: '',\r\n      quote: account ? account.settings.accountingCurrency.ticker : '',\r\n      trade: 'buy',\r\n      baseAmount: '',\r\n      quoteAmount: '',\r\n      price: 0,\r\n      fee: 0,\r\n      feeCurrency: 'quote',\r\n      notes: '',\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // TODO input validation\r\n    dispatch(addTransaction({\r\n      journal: props.index,\r\n      transaction: transaction(\r\n        fields.date,\r\n        fields.base,\r\n        fields.baseAmount,\r\n        fields.quote,\r\n        fields.quoteAmount,\r\n        0,\r\n        fields.fee,\r\n        fields.notes,\r\n      ),\r\n    }));\r\n    props.onDialogClose();\r\n  };\r\n  const handleDialogOpen = () => {\r\n    // Init form fields according to add or edit mode\r\n    if (props.edit) {\r\n      \r\n    } else {\r\n      resetForm();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AddEditDialog\r\n      objectName={'Transaction'}\r\n      edit={Boolean(props.edit)}\r\n      open={props.open}\r\n      onClose={props.onDialogClose}\r\n      onEnter={handleDialogOpen}\r\n      onReset={resetForm}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            type=\"datetime-local\"\r\n            size=\"small\"\r\n            label=\"Date\"\r\n            required\r\n            value={fields.date}\r\n            onChange={(e) => setFields(s => ({...s, date: e.target.value}))}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Amount\"\r\n            required\r\n            value={fields.baseAmount}\r\n            onChange={(e) => setFields(s => ({...s, baseAmount: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Asset\"\r\n            required\r\n            value={fields.base}\r\n            onChange={(e) => setFields(s => ({...s, base: e.target.value}))}\r\n          >\r\n            <MenuItem value={'USD'}>{ 'USD' }</MenuItem>\r\n            <MenuItem value={'BTC'}>{ 'BTC' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Total\"\r\n            required\r\n            value={fields.quoteAmount}\r\n            onChange={(e) => setFields(s => ({...s, quoteAmount: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Quote Currency\"\r\n            required\r\n            value={fields.quote}\r\n            onChange={(e) => setFields(s => ({...s, quote: e.target.value}))}\r\n          >\r\n            <MenuItem value={'USD'}>{ 'USD' }</MenuItem>\r\n            <MenuItem value={'BTC'}>{ 'BTC' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Price\"\r\n            required\r\n            value={fields.price}\r\n            onChange={(e) => setFields(s => ({...s, price: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Trade Type\"\r\n            required\r\n            value={fields.trade}\r\n            onChange={(e) => setFields(s => ({...s, trade: e.target.value}))}\r\n          >\r\n            <MenuItem value={'buy'}>{ 'Buy' }</MenuItem>\r\n            <MenuItem value={'sell'}>{ 'Sell' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Fee\"\r\n            value={fields.fee}\r\n            onChange={(e) => setFields(s => ({...s, fee: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Fee Currency\"\r\n            value={fields.feeCurrency}\r\n            onChange={(e) => setFields(s => ({...s, feeCurrency: e.target.value}))}\r\n          >\r\n            <MenuItem value={'base'}>{ 'Base' }</MenuItem>\r\n            <MenuItem value={'quote'}>{ 'Quote' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            label=\"Notes\"\r\n            value={fields.notes}\r\n            onChange={(e) => setFields(s => ({...s, notes: e.target.value}))}\r\n          >\r\n            <MenuItem value={'base'}>{ 'Base' }</MenuItem>\r\n            <MenuItem value={'quote'}>{ 'Quote' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n      </Grid>\r\n    </AddEditDialog>\r\n  );\r\n}\r\n\r\nexport default AddEditTransactionDialog;","\r\nimport { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddEditTransactionDialog from './AddEditTransactionDialog';\r\nimport { selectActiveAccount } from '../accounts/accountsSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderRadius: 0,\r\n    boxShadow: 'none',\r\n  },\r\n\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction TransactionSheet(props) {\r\n  const classes = useStyles();\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogEdit, setDialogEdit] = useState(false);\r\n  // const account = useSelector(selectActiveAccountObject);\r\n\r\n  const openAddDialog = () => {\r\n    setDialogEdit(false);\r\n    setDialogOpen(true);\r\n  };\r\n  const openEditDialog = (tx) => {\r\n    setDialogEdit(true);\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  return props.active && (\r\n    <div role=\"tabpanel\">\r\n      <TableContainer component={Paper} className={classes.root}>\r\n        <Table\r\n          size={'small'}\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>{ props.journal.columns.date.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.base.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.quote.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.baseAmount.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.quoteAmount.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.price.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.notes.name }</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {props.journal.transactions.map((tx, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell align=\"right\">{tx.date}</TableCell>\r\n                <TableCell align=\"right\">{tx.base}</TableCell>\r\n                <TableCell align=\"right\">{tx.quote}</TableCell>\r\n                <TableCell align=\"right\">{tx.baseAmount}</TableCell>\r\n                <TableCell align=\"right\">{tx.quoteAmount}</TableCell>\r\n                <TableCell align=\"right\">{tx.quoteAmount / tx.baseAmount}</TableCell>\r\n                <TableCell>{tx.notes}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Fab color=\"secondary\" className={classes.fab} onClick={() => openAddDialog()}>\r\n        <AddIcon />\r\n      </Fab>\r\n      <AddEditTransactionDialog\r\n        journal={props.journal}\r\n        index={props.index}\r\n        open={dialogOpen}\r\n        edit={dialogEdit}\r\n        onDialogClose={() => setDialogOpen(false)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default TransactionSheet;","import Typography from '@material-ui/core/Typography';\r\n\r\nfunction AddTransactionTypeForm(props) {\r\n\r\n  return props.active && (\r\n    <div role=\"tabpanel\">\r\n      <Typography variant=\"h3\">Add Transaction Type</Typography>\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default AddTransactionTypeForm;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport TransactionSheet from './TransactionSheet';\r\nimport AddTransactionTypeForm from './AddTransactionTypeForm';\r\nimport { selectActiveAccount } from '../accounts/accountsSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // flexGrow: 1,\r\n    // backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nfunction Journals(props) {\r\n  const classes = useStyles();\r\n  const account = useSelector(selectActiveAccount);\r\n  const dispatch = useDispatch();\r\n  const journals = account ? account.journals : [];\r\n  const [activeTab, setActiveTab] = React.useState(0);\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={activeTab} onChange={(e, v) => setActiveTab(v)} aria-label=\"Journals tab\">\r\n          {/* TODO update key */}\r\n          {/* TODO aria labels */}\r\n          {journals.map((journal, index) =>\r\n            <Tab label={journal['name']} key={index} />\r\n          )}\r\n          <Tab icon={<AddIcon />} />\r\n        </Tabs>\r\n      </AppBar>\r\n      {/* TODO update key */}\r\n      {journals.map((journal, index) =>\r\n        <TransactionSheet journal={journal} index={index} active={activeTab === index} key={index} />\r\n      )}\r\n      <AddTransactionTypeForm\r\n        index={journals.length}\r\n        active={activeTab === journals.length}\r\n        key={journals.length}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Journals;","\r\n\r\nfunction CapitalChanges(props) {\r\n  return (\r\n    <p>Capital Changes</p>\r\n  );\r\n}\r\n  \r\nexport default CapitalChanges;","\r\n\r\nfunction AssetStatements(props) {\r\n    return (\r\n      <p>Asset Statements</p>\r\n    );\r\n  }\r\n    \r\n  export default AssetStatements;","import Grid from \"@material-ui/core/Grid\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport AddEditDialog from '../../components/AddEditDialog';\r\n\r\n/**\r\n * Add or change asset dialog React function component.\r\n * \r\n * Props:\r\n * - open: Dialog shows if true.\r\n * - onDialogClose: Function called when the dialog requests to be closed.\r\n * - edit: Asset object to edit, null if add new asset.\r\n * - fields: Value of the fields in this dialog: name, ticker, precision, pricePrecision, isCurrency, symbol.\r\n *           Received an object with members: {name, ticker, precision, pricePrecision, isCurrency, symbol}.\r\n * - onFieldsChange: Callback when the value of the fields change, use this to change the state of the parent component.\r\n *                  Function receives the new fields object.\r\n * - onSubmit: Function called when the add/edit button is pressed.\r\n */\r\nfunction AddEditAssetDialog(props) {\r\n  const handleReset = () => {\r\n    if (props.onFieldsChange) {\r\n      props.onFieldsChange({\r\n        name: '',\r\n        ticker: '',\r\n        precision: 2,\r\n        pricePrecision: 2,\r\n        isCurrency: false,\r\n        symbol: '',\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleDialogOpen = () => {\r\n    if (props.edit) {\r\n      if (props.onFieldsChange) {\r\n        props.onFieldsChange({\r\n          name: props.edit.name,\r\n          ticker: props.edit.ticker,\r\n          precision: props.edit.precision,\r\n          pricePrecision: props.edit.pricePrecision,\r\n          isCurrency: props.edit.isCurrency,\r\n          symbol: props.edit.symbol,\r\n        });\r\n      }\r\n    } else {\r\n      handleReset();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AddEditDialog\r\n      objectName={'Asset'}\r\n      edit={Boolean(props.edit)}\r\n      open={props.open}\r\n      onClose={props.onDialogClose}\r\n      onEnter={handleDialogOpen}\r\n      onReset={handleReset}\r\n      onSubmit={props.onSubmit}\r\n    >\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            type=\"text\"\r\n            label=\"Asset Name\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={props.fields.name}\r\n            onChange={(e) => props.onFieldsChange({...props.fields, name: e.target.value})}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <TextField\r\n            type=\"text\"\r\n            label=\"Ticker\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={props.fields.ticker}\r\n            onChange={(e) => props.onFieldsChange({...props.fields, ticker: e.target.value})}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <TextField\r\n            type=\"text\"\r\n            label=\"Symbol\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={props.fields.symbol}\r\n            onChange={(e) => props.onFieldsChange({...props.fields, symbol: e.target.value})}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <FormControlLabel\r\n            control={<Checkbox />}\r\n            checked={props.fields.isCurrency}\r\n            onChange={(e) => props.onFieldsChange({...props.fields, isCurrency: e.target.checked})}\r\n            label=\"Currency\"\r\n            labelPlacement=\"end\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Precision\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={props.fields.precision}\r\n            onChange={(e) => props.onFieldsChange({...props.fields, precision: e.target.value})}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Price Precision\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={props.fields.pricePrecision}\r\n            onChange={(e) => props.onFieldsChange({...props.fields, pricePrecision: e.target.value})}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </AddEditDialog>\r\n  );\r\n}\r\n\r\nexport default AddEditAssetDialog;","import clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    paddingLeft: theme.spacing(4),\r\n    paddingRight: theme.spacing(4),\r\n  },\r\n}));\r\n\r\n/**\r\n * React component. A visual wrapper for a settings section, put contents as children.\r\n */\r\nfunction SettingsSection(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Paper component=\"section\" elevation={0} variant=\"outlined\" className={clsx(classes.root, props.className)}>\r\n      { props.children }\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default SettingsSection;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddEditAssetDialog from './AddEditAssetDialog';\r\nimport SettingsSection from '../../components/SettingsSection';\r\nimport { changeAccountingCurrency, selectActiveAccount } from './accountsSlice';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n\r\n  },\r\n}));\r\n\r\nfunction AccountMainSettings(props) {\r\n  const classes = useStyles();\r\n  const [accountingCurrencyDialogOpen, setAccountingCurrencyDialogOpen] = useState(false);\r\n  const [accountingCurrencyFields, setaccountingCurrencyFields] = useState({\r\n    name: '',\r\n    ticker: '',\r\n    precision: '',\r\n    pricePrecision: '',\r\n    isCurrency: false,\r\n    symbol: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const account = useSelector(selectActiveAccount);\r\n  const accountingCurrency = account.settings.accountingCurrency;\r\n\r\n  const handleChangeAccountingCurrency = () => {\r\n    dispatch(changeAccountingCurrency({currency: {...accountingCurrencyFields}}));\r\n    setAccountingCurrencyDialogOpen(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <SettingsSection>\r\n        <Typography variant=\"h6\">Accounting Currency</Typography>\r\n        <TableContainer>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Name</TableCell>\r\n                <TableCell align=\"center\">Ticker</TableCell>\r\n                <TableCell align=\"center\">Precision</TableCell>\r\n                <TableCell align=\"center\">Price Precision</TableCell>\r\n                <TableCell align=\"center\">Currency</TableCell>\r\n                <TableCell align=\"center\">Symbol</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              <TableRow>\r\n                <TableCell>{ accountingCurrency.name }</TableCell>\r\n                <TableCell align=\"center\">{ accountingCurrency.ticker }</TableCell>\r\n                <TableCell align=\"center\">{ accountingCurrency.precision }</TableCell>\r\n                <TableCell align=\"center\">{ accountingCurrency.pricePrecision }</TableCell>\r\n                <TableCell align=\"center\">{ accountingCurrency.isCurrency ? 'Yes' : 'No' }</TableCell>\r\n                <TableCell align=\"center\">{ accountingCurrency.symbol }</TableCell>\r\n              </TableRow>\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          startIcon={<EditIcon />}\r\n          onClick={() => setAccountingCurrencyDialogOpen(true)}\r\n        >Change Accounting Currency</Button>\r\n      </SettingsSection>\r\n      <AddEditAssetDialog\r\n        open={accountingCurrencyDialogOpen}\r\n        onDialogClose={() => setAccountingCurrencyDialogOpen(false)}\r\n        edit={accountingCurrency}\r\n        fields={accountingCurrencyFields}\r\n        onFieldsChange={fields => setaccountingCurrencyFields(fields)}\r\n        onSubmit={handleChangeAccountingCurrency}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default AccountMainSettings;","import React, { useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddEditAssetDialog from './AddEditAssetDialog';\r\nimport { addAsset, editAsset, selectActiveAccount } from './accountsSlice';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n    paddingLeft: theme.spacing(4),\r\n    paddingRight: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nfunction AccountAssetsSettings(props) {\r\n  const classes = useStyles();\r\n  const [addEditAssetDialogOpen, setAddEditAssetDialogOpen] = useState(false);\r\n  // Index of the Asset to edit when the edit asset button is clicked, set to -1 to add new asset\r\n  const [selectedAsset, setSelectedAsset] = useState(-1);\r\n  const [addEditAssetFields, setAddEditAssetFields] = useState({\r\n    name: '',\r\n    ticker: '',\r\n    precision: '',\r\n    pricePrecision: '',\r\n    isCurrency: false,\r\n    symbol: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const account = useSelector(selectActiveAccount);\r\n  const assets = account.assets;\r\n\r\n  const openAddAssetDialog = () => {\r\n    setSelectedAsset(-1);\r\n    setAddEditAssetDialogOpen(true);\r\n  };\r\n\r\n  const handleAddEditAsset = () => {\r\n    if (selectedAsset < 0) {\r\n      // Add\r\n      dispatch(addAsset({asset: {...addEditAssetFields}}));\r\n    } else {\r\n      // Edit\r\n      dispatch(editAsset({asset: {...addEditAssetFields}, index: selectedAsset}));\r\n    }\r\n    setAddEditAssetDialogOpen(false);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Paper component=\"section\" elevation={0} variant=\"outlined\" className={classes.root}>\r\n        <Typography variant=\"h6\">Assets</Typography>\r\n        <TableContainer>\r\n          <Table>\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell>Name</TableCell>\r\n                <TableCell align=\"center\">Ticker</TableCell>\r\n                <TableCell align=\"center\">Precision</TableCell>\r\n                <TableCell align=\"center\">Price Precision</TableCell>\r\n                <TableCell align=\"center\">Currency</TableCell>\r\n                <TableCell align=\"center\">Symbol</TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableBody>\r\n              {assets.map((a, i) =>\r\n                <TableRow key={i}>\r\n                  <TableCell>{ a.name }</TableCell>\r\n                  <TableCell align=\"center\">{ a.ticker }</TableCell>\r\n                  <TableCell align=\"center\">{ a.precision }</TableCell>\r\n                  <TableCell align=\"center\">{ a.pricePrecision }</TableCell>\r\n                  <TableCell align=\"center\">{ a.isCurrency ? 'Yes' : 'No' }</TableCell>\r\n                  <TableCell align=\"center\">{ a.symbol }</TableCell>\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <Button\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          startIcon={<AddIcon />}\r\n          onClick={openAddAssetDialog}\r\n        >\r\n            Add New Asset\r\n        </Button>\r\n      </Paper>\r\n      <AddEditAssetDialog\r\n        open={addEditAssetDialogOpen}\r\n        onDialogClose={() => setAddEditAssetDialogOpen(false)}\r\n        edit={selectedAsset === -1 ? null : assets[selectedAsset]}\r\n        fields={addEditAssetFields}\r\n        onFieldsChange={fields => setAddEditAssetFields(fields)}\r\n        onSubmit={handleAddEditAsset}\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default AccountAssetsSettings;","import { Fragment } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport AccountMainSettings from './AccountMainSettings';\r\nimport AccountAssetsSettings from './AccountAssetsSettings';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n\r\n  },\r\n}));\r\n\r\nfunction AccountSettings(props) {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Fragment>\r\n      <Container className={classes.root}>\r\n        <Box my={2}>\r\n          <Typography variant=\"h4\">Account Settings</Typography>\r\n        </Box>\r\n        <Box my={2}>\r\n          <AccountMainSettings />\r\n        </Box>\r\n        <Box my={2}>\r\n          <AccountAssetsSettings />\r\n        </Box>\r\n      </Container>\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default AccountSettings;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Switch, Route } from \"react-router-dom\";\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport TopAppBar from './features/navigation/TopAppBar';\r\nimport SideDrawer from './features/navigation/SideDrawer';\r\nimport Journals from './features/journals/Journals';\r\nimport { addDefaultAccount } from './features/accounts/accountsSlice';\r\nimport CapitalChanges from './features/capital-changes/CapitalChanges';\r\nimport AssetStatements from './features/asset-statements/AssetStatements';\r\nimport AccountSettings from './features/accounts/AccountSettings';\r\n\r\nconst styles = {\r\n  root: {\r\n    // Allow content to grow\r\n    display: 'flex',\r\n  },\r\n  content: {\r\n    // Let content grow horizontally\r\n    flexGrow: 1,\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen: false,\r\n    };\r\n\r\n    this.openDrawer = this.openDrawer.bind(this);\r\n    this.closeDrawer = this.closeDrawer.bind(this);\r\n  }\r\n\r\n  openDrawer() {\r\n    this.setState({drawerOpen: true});\r\n  }\r\n\r\n  closeDrawer() {\r\n    this.setState({drawerOpen: false});\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Init with test data\r\n    this.props.dispatch(addDefaultAccount('Coinbase'));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div className={this.props.classes.root}>\r\n          <TopAppBar\r\n            onMenuClick={this.openDrawer}\r\n            drawerOpen={this.state.drawerOpen}\r\n          />\r\n          <aside>\r\n            <SideDrawer open={this.state.drawerOpen} onClose={this.closeDrawer} />\r\n          </aside>\r\n          <main className={this.props.classes.content}>\r\n            {/* Spacing with (height = top app bar height) so content is not clipped by the fixed app bar */}\r\n            <Toolbar />\r\n            <Switch>\r\n              <Route path=\"/journals\">\r\n                <Journals />\r\n              </Route>\r\n              <Route path=\"/capital-changes\">\r\n                <CapitalChanges />\r\n              </Route>\r\n              <Route path=\"/asset-statements\">\r\n                <AssetStatements />\r\n              </Route>\r\n              <Route path=\"/account-settings\">\r\n                <AccountSettings />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Journals />\r\n              </Route>\r\n            </Switch>\r\n          </main>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(connect()(App));","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const navigationSlice = createSlice({\r\n  name: 'navigation',\r\n  initialState: {\r\n    user: 'New User',       // String or null\r\n  },\r\n  reducers: {\r\n    changeUser: (state, action) => {\r\n      state.page = action.payload ? String(action.payload) : null;\r\n    },\r\n  }\r\n});\r\n\r\n// Actions\r\nexport const { changeUser } = navigationSlice.actions;\r\n\r\n// Selectors\r\nexport const selectUser = state => state.navigation.user;\r\n\r\nexport default navigationSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\r\nimport navigationReducer from '../features/navigation/navigationSlice';\r\nimport accountsReducer from '../features/accounts/accountsSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    navigation: navigationReducer,\r\n    accounts: accountsReducer,\r\n  },\r\n});","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CssBaseline />\r\n    <Provider store={store}>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}