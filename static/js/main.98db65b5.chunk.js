(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{163:function(e,t,n){},170:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(15),r=n.n(i),o=n(14),s=n(50),l=n(248),u=(n(163),n(113)),j=n(114),d=n(65),b=n(133),O=n(131),m=n(17),h=n(250),x=n(220),p=n(27),f=n(12),v=n(216),g=n(3),y=n(218),C=n(62),S=n(132),k=n(224),w=n(172),A=n(119),N=n.n(A),q=n(120),D=n.n(q),B=n(69),P=n(7),T=n(58);function z(e){switch(e){case void 0:case null:return e;case"date":return"Date";case"base":return"Base";case"baseAmount":return"Base amount";case"quote":return"Quote";case"quoteAmount":return"Quote amount";case"price":return"Price";case"feeBase":return"Base fee";case"feeQuote":return"Quote fee";case"notes":return"Notes";default:return"Extra (".concat((e+1).toFixed(),")")}}function F(e,t){return"number"===typeof t?e.columns.extra[t]:e.columns[t]}function J(e,t,n,a){var c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];if("number"===typeof e||isNaN(parseFloat(e))){var i,r,o,s=c.find((function(e){return e.ticker===n})),l=c.find((function(e){return e.ticker===a}));if("base"===t.description)i=null!==(r=null!==(o=t.precision[n])&&void 0!==o?o:null===s||void 0===s?void 0:s.precision)&&void 0!==r?r:-1;else if("quote"===t.description){var u,j;i=null!==(u=null!==(j=t.precision[a])&&void 0!==j?j:null===l||void 0===l?void 0:l.precision)&&void 0!==u?u:-1}else if("price"===t.description){var d,b;i=null!==(d=null!==(b=t.precision["".concat(n,"/").concat(a)])&&void 0!==b?b:null===s||void 0===s?void 0:s.pricePrecision)&&void 0!==d?d:-1}else i=-1;if(i>=0)return"number"===typeof e?e.toFixed(i):parseFloat(e).toFixed(i)}return String(e)}function R(e,t,n){var a,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=F(n,t);return a="price"===t?e.quoteAmount/e.baseAmount:"number"===typeof t?e.extra[i.name]:e[t],!M(i)||"number"!==typeof a&&"string"!==typeof a?W(i)&&"string"===typeof a?i.showTime?new Date(a).toLocaleString():new Date(a).toLocaleDateString():H(i)?a?"Yes":"No":void 0!==a?String(a):"":J(a,i,e.base,e.quote,c)}function W(e){return"type"in e&&"date"===e.type&&"showTime"in e}function I(e){return"type"in e&&"asset"===e.type}function E(e){return"type"in e&&"text"===e.type}function Q(e){return"string"===typeof e&&-1!==["base","quote","price"].indexOf(e)}function M(e){return"type"in e&&"decimal"===e.type&&"precision"in e&&"description"in e}function L(e){return M(e)&&"base"===e.description}function U(e){return M(e)&&"quote"===e.description}function H(e){return"type"in e&&"boolean"===e.type}function Y(e){return E(e)||function(e){return"type"in e&&"integer"===e.type}(e)||M(e)||H(e)}var G=["date","base","baseAmount","quote","quoteAmount","price","feeBase","feeQuote","notes"],X={accountingCurrency:{ticker:"USD",name:"United States Dollar",precision:2,pricePrecision:4,isCurrency:!0,symbol:"$"}},$=[{ticker:"BTC",name:"Bitcoin",precision:8,pricePrecision:2,isCurrency:!0,symbol:"\u20bf"}],K=[te("Trading",void 0,[{date:"2021-01-01T00:00:00",base:"BTC",baseAmount:1,quote:"USD",quoteAmount:5e4,feeBase:0,feeQuote:20,notes:"First transaction",extra:{}},{date:"2021-01-02T00:00:00",base:"BTC",baseAmount:.5,quote:"USD",quoteAmount:2e4,feeBase:0,feeQuote:8,notes:"Second transaction",extra:{}}]),ne("Misc fees")];function V(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{date:{name:"Date",showTime:e,type:"date",hide:!1},base:{name:"Asset",type:"asset",hide:!1},baseAmount:{name:"Amount",type:"decimal",description:"base",precision:{},hide:!1},quote:{name:"Quote",type:"asset",hide:!0},quoteAmount:{name:"Total",type:"decimal",description:"quote",precision:{},hide:!1},price:{name:"Price",type:"decimal",description:"price",precision:{},hide:!1},feeBase:{name:"Fee (Base)",type:"decimal",description:"base",precision:{},hide:!0},feeQuote:{name:"Fee",type:"decimal",description:"quote",precision:{},hide:!1},notes:{name:"Notes",type:"text",hide:!1},extra:[]}}function Z(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{date:{name:"Date",showTime:e,type:"date",hide:!1},base:{name:"Asset",type:"asset",hide:!1},baseAmount:{name:"Amount",type:"decimal",description:"base",precision:{},hide:!1},quote:{name:"Quote",type:"asset",hide:!0},quoteAmount:{name:"Total",type:"decimal",description:"quote",precision:{},hide:!1},price:{name:"Price",type:"decimal",description:"price",precision:{},hide:!1},feeBase:{name:"Fee (Base)",type:"decimal",description:"base",precision:{},hide:!0},feeQuote:{name:"Fee",type:"decimal",description:"quote",precision:{},hide:!0},notes:{name:"Notes",type:"text",hide:!1},extra:[]}}function _(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return{date:{name:"Date",showTime:e,type:"date",hide:!1},base:{name:"Asset",type:"asset",hide:!1},baseAmount:{name:"Amount",type:"decimal",description:"base",precision:{},hide:!1},quote:{name:"Quote",type:"asset",hide:!0},quoteAmount:{name:"Total",type:"decimal",description:"quote",precision:{},hide:!1},price:{name:"Price",type:"decimal",description:"price",precision:{},hide:!1},feeBase:{name:"Fee (Base)",type:"decimal",description:"base",precision:{},hide:!0},feeQuote:{name:"Fee",type:"decimal",description:"quote",precision:{},hide:!0},notes:{name:"Notes",type:"text",hide:!1},extra:[]}}function ee(e,t){switch(t){case"trading":return te(e);case"income":return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{name:e,type:"income",columns:Z(),columnOrder:t,transactions:n}}(e);case"expense":return ne(e)}}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{name:e,type:"trading",columns:V(),columnOrder:t,transactions:n}}function ne(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return{name:e,type:"expense",columns:_(),columnOrder:t,transactions:n}}var ae=Object(T.b)({name:"transactions",initialState:{accounts:[],activeAccount:0},reducers:{switchAccount:function(e,t){var n=t.payload;e.activeAccount=Math.max(n,-1)},addAccount:function(e,t){e.accounts.push(t.payload)},addDefaultAccount:function(e,t){var n=t.payload||"New Account";e.accounts.push(function(e){return{name:e,settings:arguments.length>1&&void 0!==arguments[1]?arguments[1]:X,assets:arguments.length>2&&void 0!==arguments[2]?arguments[2]:$,journals:arguments.length>3&&void 0!==arguments[3]?arguments[3]:K}}(n))},addTransaction:function(e,t){var n=t.payload,a=n.account,c=n.journal,i=n.transaction,r=e.accounts[null!==a&&void 0!==a?a:e.activeAccount],o=r.journals[c];if(void 0!==o){for(var s=o.transactions.length;s>=0;s--)if(0===s||new Date(i.date)>=new Date(o.transactions[s-1].date)){o.transactions.splice(s,0,i);break}}else console.warn("addTransaction: journal index ".concat(c," is out of range for account: ").concat(JSON.stringify(r),"."))},changeAccountingCurrency:function(e,t){var n=t.payload,a=n.account,c=n.currency;e.accounts[null!==a&&void 0!==a?a:e.activeAccount].settings.accountingCurrency=c},addAsset:function(e,t){var n=t.payload,a=n.account,c=n.asset;e.accounts[null!==a&&void 0!==a?a:e.activeAccount].assets.push(c)},editAsset:function(e,t){var n=t.payload,a=n.account,c=n.index,i=n.asset,r=e.accounts[null!==a&&void 0!==a?a:e.activeAccount];void 0!==r.assets[c]?r.assets[c]=i:console.warn("editAsset: Invalid index ".concat(c," of assets array of length ").concat(r.assets.length,"."))},deleteAsset:function(e,t){var n=t.payload,a=n.account,c=n.index;e.accounts[null!==a&&void 0!==a?a:e.activeAccount].assets.splice(c,1)},addJournal:function(e,t){var n=t.payload,a=n.account,c=n.journal;e.accounts[null!==a&&void 0!==a?a:e.activeAccount].journals.push(c)},addDefaultJournal:function(e,t){var n=t.payload,a=n.account,c=n.name,i=n.type;e.accounts[null!==a&&void 0!==a?a:e.activeAccount].journals.push(ee(c,i))},editJournalSettings:function(e,t){var n=t.payload,a=n.account,c=n.index,i=n.name,r=n.type,o=e.accounts[null!==a&&void 0!==a?a:e.activeAccount];if(void 0!==o.journals[c]){var s=o.journals[c];o.journals[c]=Object(P.a)(Object(P.a)({},s),{},{name:i,type:r})}else console.warn("editJournalSettings: Invalid index ".concat(c," of journals array of length ").concat(o.journals.length,"."))},deleteJournal:function(e,t){var n=t.payload,a=n.account,c=n.index;e.accounts[null!==a&&void 0!==a?a:e.activeAccount].journals.splice(c,1)},addJournalColumn:function(e,t){var n=t.payload,a=n.account,c=n.index,i=n.column,r=e.accounts[null!==a&&void 0!==a?a:e.activeAccount];r.journals[c].columns.extra.push(i);var o=r.journals[c].columns.extra.length;r.journals[c].columnOrder.push(o-1)},editJournalColumn:function(e,t){var n=t.payload,a=n.account,c=n.index,i=n.role,r=n.column,o=e.accounts[null!==a&&void 0!==a?a:e.activeAccount];"string"===typeof i?"date"===i&&W(r)||"base"===i&&I(r)||"baseAmount"===i&&L(r)||"quote"===i&&I(r)||"quoteAmount"===i&&U(r)||"price"===i&&function(e){return M(e)&&"price"===e.description}(r)||"feeBase"===i&&L(r)||"feeQuote"===i&&U(r)||"notes"===i&&E(r)?o.journals[c].columns[i]=r:console.warn("editJournalColumn: Column does not match core column role: ".concat(i,".")):Y(r)?o.journals[c].columns.extra[i]=r:console.warn("editJournalColumn: Column is not an ExtraColumn for role: ".concat(i,"."))},deleteJournalColumn:function(e,t){var n,a=t.payload,c=a.account,i=a.journalIndex,r=a.columnIndex,o=e.accounts[null!==c&&void 0!==c?c:e.activeAccount];if(r>=0&&r<(null===(n=o.journals[i])||void 0===n?void 0:n.columns.extra.length)){o.journals[i].columns.extra.splice(r,1);var s=o.journals[i].columns.extra.length,l=o.journals[i].columnOrder.indexOf(r);-1!==l&&o.journals[i].columnOrder.splice(l,1);for(var u=r+1;u<=s;u++){var j=o.journals[i].columnOrder.indexOf(u);-1!==j&&(o.journals[i].columnOrder[j]=u-1)}}else console.warn("deleteJournalColumn: Invalid column selectors journalIndex: ".concat(i," and columnIndex: ").concat(r,"."))},editJournalColumnOrder:function(e,t){var n=t.payload,a=n.account,c=n.index,i=n.columnOrder,r=e.accounts[null!==a&&void 0!==a?a:e.activeAccount];void 0!==r.journals[c]?r.journals[c].columnOrder=i:console.warn("editJournalColumnOrder: Invalid index ".concat(c," for column order of length: ").concat(r.journals.length,"."))}}}),ce=ae.actions,ie=ce.switchAccount,re=(ce.addAccount,ce.addDefaultAccount),oe=ce.addTransaction,se=ce.changeAccountingCurrency,le=ce.addAsset,ue=ce.editAsset,je=ce.deleteAsset,de=(ce.addJournal,ce.addDefaultJournal),be=ce.editJournalSettings,Oe=ce.deleteJournal,me=ce.addJournalColumn,he=ce.editJournalColumn,xe=ce.deleteJournalColumn,pe=ce.editJournalColumnOrder,fe=function(e){return e.accounts.accounts},ve=function(e){return e.accounts.activeAccount},ge=function(e){var t=fe(e),n=ve(e);return n<t.length?t[n]:null},ye=function(e){var t=ge(e);return t?t.name:"No account selected"},Ce=function(e){var t=ge(e);return t?t.settings.accountingCurrency:null},Se=function(e){var t=ge(e);return t?t.assets:[]},ke=function(e){var t=ge(e);return t?[t.settings.accountingCurrency].concat(Object(B.a)(t.assets)):[]},we=function(e){var t=ge(e);return t?t.journals:[]},Ae=ae.reducer,Ne="15rem",qe=n(1),De=Object(v.a)((function(e){return{root:{},menuButton:{marginRight:e.spacing(2),display:function(e){return e.drawerOpen?"none":"initial"}},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarDrawerOpen:{marginLeft:Ne,width:"calc(100% - ".concat(Ne,")"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})}}}));var Be=function(e){var t=De(e),n=Object(a.useState)(null),i=Object(f.a)(n,2),r=i[0],s=i[1],l=Object(o.c)(),u=Object(o.d)(fe),j=Object(o.d)(ve),d=Object(o.d)(ye);return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsx)(y.a,{position:"fixed",className:Object(g.a)(t.appBar,Object(p.a)({},t.appBarDrawerOpen,e.drawerOpen)),children:Object(qe.jsxs)(x.a,{children:[Object(qe.jsx)(w.a,{onClick:e.onMenuClick,color:"inherit","aria-label":"menu",className:t.menuButton,children:Object(qe.jsx)(N.a,{})}),Object(qe.jsx)(C.a,{variant:"h6",children:d}),Object(qe.jsx)(w.a,{onClick:function(e){return s(e.currentTarget)},color:"inherit","aria-label":"Change account","aria-haspopup":"true",children:Object(qe.jsx)(D.a,{})})]})}),Object(qe.jsxs)(S.a,{anchorEl:r,open:Boolean(r),onClose:function(){return s(null)},children:[u.map((function(e,t){return Object(qe.jsx)(k.a,{onClick:function(){return function(e){l(ie(e)),s(null)}(t)},selected:j===t,children:e.name},t)})),Object(qe.jsx)(k.a,{children:"All Accounts"}),Object(qe.jsx)(k.a,{children:"Create New Account"})]})]})},Pe=n(253),Te=n(223),ze=n(173),Fe=n(226),Je=n(227),Re=n(228),We=n(225),Ie=n(121),Ee=n.n(Ie),Qe=n(99),Me=n.n(Qe),Le=n(122),Ue=n.n(Le),He=n(70),Ye=n.n(He),Ge=n(82),Xe=n.n(Ge),$e=Object(v.a)((function(e){var t;return{root:{},toolbar:Object(P.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),drawer:{width:Ne,whiteSpace:"nowrap"},drawerOpen:{width:Ne,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:(t={overflowX:"hidden",width:e.spacing(7)},Object(p.a)(t,e.breakpoints.up("sm"),{width:e.spacing(9)}),Object(p.a)(t,"transition",e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})),t)}}));var Ke=function(e){var t,n,a=$e(),c=Object(m.f)().pathname;return Object(qe.jsxs)(Pe.a,{variant:"permanent",anchor:"left",classes:{paper:Object(g.a)((t={},Object(p.a)(t,a.drawerOpen,e.open),Object(p.a)(t,a.drawerClose,!e.open),t))},className:Object(g.a)(a.drawer,(n={},Object(p.a)(n,a.drawerOpen,e.open),Object(p.a)(n,a.drawerClose,!e.open),n)),children:[Object(qe.jsx)("div",{className:a.toolbar,children:Object(qe.jsx)(w.a,{onClick:e.onClose,children:Object(qe.jsx)(Ee.a,{})})}),Object(qe.jsx)(We.a,{}),Object(qe.jsxs)(Te.a,{component:"nav","aria-label":"Journals",children:[Object(qe.jsxs)(ze.a,{button:!0,component:s.b,to:"/journals",selected:"/journals"===c||"/"===c,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Me.a,{})}),Object(qe.jsx)(Je.a,{primary:"Journals"})]}),Object(qe.jsxs)(ze.a,{button:!0,component:s.b,to:"/capital-changes",selected:"/capital-changes"===c,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Me.a,{})}),Object(qe.jsx)(Je.a,{primary:"Capital changes"})]}),Object(qe.jsxs)(ze.a,{button:!0,component:s.b,to:"/asset-statements",selected:"/asset-statements"===c,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Ue.a,{})}),Object(qe.jsx)(Je.a,{primary:"Asset Statements"})]})]}),Object(qe.jsx)(We.a,{}),Object(qe.jsxs)(Te.a,{component:"nav","aria-label":"Financials",children:[Object(qe.jsx)(Re.a,{inset:!0,disableSticky:!0,children:"Financials"}),Object(qe.jsxs)(ze.a,{button:!0,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Ye.a,{})}),Object(qe.jsx)(Je.a,{primary:"Monthly"})]}),Object(qe.jsxs)(ze.a,{button:!0,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Ye.a,{})}),Object(qe.jsx)(Je.a,{primary:"Quarterly"})]}),Object(qe.jsxs)(ze.a,{button:!0,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Ye.a,{})}),Object(qe.jsx)(Je.a,{primary:"Biyearly"})]}),Object(qe.jsxs)(ze.a,{button:!0,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Ye.a,{})}),Object(qe.jsx)(Je.a,{primary:"Yearly"})]})]}),Object(qe.jsx)(We.a,{}),Object(qe.jsx)(Te.a,{component:"nav","aria-label":"Account settings",children:Object(qe.jsxs)(ze.a,{button:!0,component:s.b,to:"/account-settings",selected:"/account-settings"===c,children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Xe.a,{})}),Object(qe.jsx)(Je.a,{primary:"Account settings"})]})})]})},Ve=n(251),Ze=n(245),_e=n(35),et=n.n(_e),tt=n(241),nt=n(243),at=n(239),ct=n(240),it=n(242),rt=n(238),ot=n(136),st=n(244),lt=n(127),ut=n.n(lt),jt=n(234),dt=n(249),bt=n(59),Ot=n(233),mt=n(229),ht=n(232),xt=n(231),pt=n(230),ft=Object(v.a)((function(e){return{content:function(e){return{maxWidth:e.contentMaxWidth}}}}));var vt=function(e){var t=e.objectName,n=void 0===t?"Item":t,a=Object(bt.a)(e,["objectName"]),c=ft(a);return Object(qe.jsxs)(mt.a,{open:a.open,onClose:a.onClose,onEnter:a.onEnter,children:[Object(qe.jsx)(pt.a,{children:"".concat(a.edit?"Edit":"Add"," ").concat(n)}),Object(qe.jsx)(xt.a,{dividers:a.dividers,className:c.content,children:a.children}),Object(qe.jsxs)(ht.a,{children:[Object(qe.jsx)(Ot.a,{onClick:a.onClose,color:"primary",children:"Cancel"}),Object(qe.jsx)(Ot.a,{onClick:a.onReset,color:"primary",children:"Reset"}),Object(qe.jsx)(Ot.a,{onClick:a.onSubmit,color:"primary",children:a.edit?"Edit":"Add"})]})]})},gt={date:"",base:"",quote:"",baseAmount:NaN,quoteAmount:NaN,price:NaN,fee:NaN,feeCurrency:"quote",notes:""};var yt=function(e){var t=e.journal,n=e.transaction,c=e.open,i=e.onDialogClose,r=Object(a.useState)(gt),s=Object(f.a)(r,2),l=s[0],u=s[1],j=Object(o.c)(),d=Object(o.d)(ge),b=Object(o.d)(ke),O=function(){var e,t,a,c;null===n||void 0===n?u(Object(P.a)(Object(P.a)({},gt),{},{date:(c=new Date,"".concat(String(c.getFullYear()).padStart(4,"0"),"-").concat(String(c.getMonth()).padStart(2,"0"),"-").concat(String(c.getDate()).padStart(2,"0"),"T").concat(String(c.getHours()).padStart(2,"0"),":").concat(String(c.getMinutes()).padStart(2,"0"),":").concat(String(c.getSeconds()).padStart(2,"0"))),base:null!==(e=null===d||void 0===d||null===(t=d.assets[0])||void 0===t?void 0:t.ticker)&&void 0!==e?e:"",quote:null!==(a=null===d||void 0===d?void 0:d.settings.accountingCurrency.ticker)&&void 0!==a?a:""})):u({date:n.date,base:n.base,baseAmount:n.baseAmount,quote:n.quote,quoteAmount:n.quoteAmount,price:n.quoteAmount/n.baseAmount,fee:0!==n.feeBase?n.feeBase:n.feeQuote,feeCurrency:0!==n.feeBase?"base":"quote",notes:n.notes})};return Object(qe.jsx)(vt,{objectName:"Transaction",edit:Boolean(n),open:c,onClose:i,onEnter:O,onReset:O,onSubmit:function(){null!==n&&void 0!==n||j(oe({journal:t,transaction:{date:l.date,base:l.base,baseAmount:l.baseAmount,quote:l.quote,quoteAmount:l.quoteAmount,feeBase:0,feeQuote:l.fee,notes:l.notes,extra:{}}})),null===i||void 0===i||i()},contentMaxWidth:"30rem",children:Object(qe.jsxs)(jt.a,{container:!0,spacing:1,children:[Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsx)(dt.a,{type:"datetime-local",size:"small",label:"Date",fullWidth:!0,required:!0,value:l.date,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{date:e.target.value})}))},InputLabelProps:{shrink:!0}})}),Object(qe.jsx)(jt.a,{item:!0,xs:8,children:Object(qe.jsx)(dt.a,{type:"number",fullWidth:!0,size:"small",label:"Amount",required:!0,value:isNaN(l.baseAmount)?"":l.baseAmount,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{baseAmount:Math.max(parseFloat(e.target.value),0)})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsx)(dt.a,{select:!0,fullWidth:!0,size:"small",label:"Asset",required:!0,value:l.base,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{base:e.target.value})}))},children:b.map((function(e){return Object(qe.jsx)(k.a,{value:e.ticker,children:e.ticker},e.ticker)}))})}),Object(qe.jsx)(jt.a,{item:!0,xs:8,children:Object(qe.jsx)(dt.a,{type:"number",fullWidth:!0,size:"small",label:"Total",required:!0,value:isNaN(l.quoteAmount)?"":l.quoteAmount,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{quoteAmount:Math.max(parseFloat(e.target.value),0)})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsx)(dt.a,{select:!0,fullWidth:!0,size:"small",label:"Quote Currency",required:!0,value:l.quote,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{quote:e.target.value})}))},children:b.map((function(e){return Object(qe.jsx)(k.a,{value:e.ticker,children:e.ticker},e.ticker)}))})}),Object(qe.jsx)(jt.a,{item:!0,xs:8,children:Object(qe.jsx)(dt.a,{type:"number",fullWidth:!0,size:"small",label:"Price",required:!0,value:isNaN(l.price)?"":l.price,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{price:Math.max(parseFloat(e.target.value),0)})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:4}),Object(qe.jsx)(jt.a,{item:!0,xs:8,children:Object(qe.jsx)(dt.a,{type:"number",fullWidth:!0,size:"small",label:"Fee",value:isNaN(l.fee)?"":l.fee,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{fee:Math.max(parseFloat(e.target.value),0)})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsxs)(dt.a,{select:!0,fullWidth:!0,size:"small",label:"Fee Currency",value:l.feeCurrency,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{feeCurrency:e.target.value})}))},children:[Object(qe.jsx)(k.a,{value:"base",children:"Base (".concat(l.base,")")}),Object(qe.jsx)(k.a,{value:"quote",children:"Quote (".concat(l.quote,")")})]})}),Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsx)(dt.a,{multiline:!0,fullWidth:!0,size:"small",variant:"outlined",label:"Notes",value:l.notes,onChange:function(e){return u((function(t){return Object(P.a)(Object(P.a)({},t),{},{notes:e.target.value})}))}})})]})})},Ct={name:"",type:"trading"};var St=function(e){var t=e.open,n=e.onDialogClose,c=e.journal,i=Object(a.useState)(Ct),r=Object(f.a)(i,2),s=r[0],l=r[1],u=Object(o.c)(),j=Object(o.d)(we)[c],d=function(){l(j?{name:j.name,type:j.type}:Ct)};return Object(qe.jsxs)(vt,{objectName:"Journal",edit:void 0!==j,open:t,onClose:n,onEnter:d,onReset:d,onSubmit:function(){u(j?be({index:c,name:s.name,type:s.type}):de({name:s.name,type:s.type})),null===n||void 0===n||n()},children:[Object(qe.jsx)(h.a,{children:Object(qe.jsx)(dt.a,{type:"text",label:"Journal Name",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:s.name,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{name:e.target.value})}))}})}),Object(qe.jsx)(h.a,{mt:2,children:Object(qe.jsxs)(dt.a,{select:!0,label:"Type",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:s.type,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{type:e.target.value})}))},children:[Object(qe.jsx)(k.a,{value:"trading",children:"Trading"}),Object(qe.jsx)(k.a,{value:"income",children:"Income"}),Object(qe.jsx)(k.a,{value:"expense",children:"Expense"})]})})]})},kt=n(134),wt=n(252),At=n(235),Nt=n(123),qt=n.n(Nt),Dt=Object(v.a)((function(e){return{removeButton:{color:e.palette.error.main}}}));function Bt(e){var t,n=Dt(),a=e.price,i=e.disableDescription,r=e.description,o=e.onDescriptionChange,s=e.precision,l=e.onPrecisionChange,u=e.newPrecisionFields,j=e.onNewPrecisionFieldsChange,d=e.onNewPrecisionFieldsReset,b=e.assets;return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsxs)(dt.a,{select:!0,label:"Description",fullWidth:!0,variant:"outlined",size:"small",required:!0,disabled:i,value:r,onChange:function(e){return null===o||void 0===o?void 0:o(e.target.value)},children:[Object(qe.jsx)(k.a,{value:"base",children:"Base"}),Object(qe.jsx)(k.a,{value:"quote",children:"Quote"}),Object(qe.jsx)(k.a,{value:"price",children:"Price"})]})}),Object(qe.jsxs)(jt.a,{item:!0,xs:12,children:[Object(qe.jsx)(C.a,{variant:"subtitle1",children:"Precision"}),Object(qe.jsx)(We.a,{})]}),Object.entries(s).map((function(e){var t=Object(f.a)(e,2),c=t[0],i=t[1];return[Object(qe.jsx)(jt.a,{item:!0,xs:6,children:Object(qe.jsx)(dt.a,{type:"text",label:a?"Asset Pair":"Asset",fullWidth:!0,variant:"outlined",size:"small",required:!0,disabled:!0,value:c})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsx)(dt.a,{type:"number",label:"Precision",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:isNaN(i)?"":i,onChange:function(e){return null===l||void 0===l?void 0:l(Object(P.a)(Object(P.a)({},s),{},Object(p.a)({},c,Math.max(parseInt(e.target.value),0))))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:2,children:Object(qe.jsx)(w.a,{onClick:function(){return function(e){s[e];var t=Object(bt.a)(s,[e].map(kt.a));null===l||void 0===l||l(t)}(c)},className:n.removeButton,children:Object(qe.jsx)(qt.a,{})})})]})),Object(qe.jsx)(jt.a,{item:!0,xs:a?3:6,children:Object(qe.jsx)(dt.a,{select:!0,label:a?"Base":"Asset",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:u.ticker,onChange:function(e){return null===j||void 0===j?void 0:j(Object(P.a)(Object(P.a)({},u),{},{ticker:e.target.value}))},children:null===b||void 0===b?void 0:b.map((function(e){return Object(qe.jsx)(k.a,{value:e.ticker,children:e.ticker},e.ticker)}))})}),a&&Object(qe.jsx)(jt.a,{item:!0,xs:3,children:Object(qe.jsx)(dt.a,{select:!0,label:"Quote",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:null!==(t=u.ticker2)&&void 0!==t?t:"",onChange:function(e){return null===j||void 0===j?void 0:j(Object(P.a)(Object(P.a)({},u),{},{ticker2:e.target.value}))},children:null===b||void 0===b?void 0:b.map((function(e){return Object(qe.jsx)(k.a,{value:e.ticker,children:e.ticker},e.ticker)}))})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsx)(dt.a,{type:"number",label:"Precision",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:isNaN(u.precision)?"":u.precision,onChange:function(e){return null===j||void 0===j?void 0:j(Object(P.a)(Object(P.a)({},u),{},{precision:Math.max(parseInt(e.target.value),0)}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:2,children:Object(qe.jsx)(w.a,{color:"secondary",onClick:function(){a?u.ticker&&u.ticker2&&!isNaN(u.precision)&&(null===l||void 0===l||l(Object(P.a)(Object(P.a)({},s),{},Object(p.a)({},"".concat(u.ticker,"/").concat(u.ticker2),u.precision))),null===d||void 0===d||d()):u.ticker&&!isNaN(u.precision)&&(null===l||void 0===l||l(Object(P.a)(Object(P.a)({},s),{},Object(p.a)({},u.ticker,u.precision))),null===d||void 0===d||d())},children:Object(qe.jsx)(et.a,{})})})]})}var Pt={name:"",type:"text",hide:!1,precision:{},decimalColumnDescription:"base",showTime:!1};var Tt=function(e){var t,n=e.open,c=e.onDialogClose,i=e.journal,r=e.role,s=Object(a.useState)(Pt),l=Object(f.a)(s,2),u=l[0],j=l[1],d=Object(a.useState)({ticker:"",precision:2}),b=Object(f.a)(d,2),O=b[0],m=b[1],x=Object(o.c)(),p=Object(o.d)(we),v=Object(o.d)(ke),g=p[i],y=void 0!==g&&null!==r&&void 0!==r?F(g,r):void 0,C=function(){j(y?{name:y.name,type:y.type,hide:y.hide,precision:"decimal"===y.type?y.precision:Pt.precision,decimalColumnDescription:"decimal"===y.type?y.description:Pt.decimalColumnDescription,showTime:"date"===y.type?y.showTime:Pt.showTime}:Pt),S()},S=function(){m({ticker:"",precision:NaN})},w=function(e){y&&null!==r&&void 0!==r?x(he({index:i,role:r,column:e})):Y(e)?x(me({index:i,column:e})):console.warn("addOrEditJournalColumn: Tried to add a new column that is not an ExtraColumn:\n".concat(JSON.stringify(e,void 0,2),"."))};return Object(qe.jsx)(vt,{objectName:"Journal Column",edit:Boolean(y),open:n,onClose:c,onEnter:C,onReset:C,onSubmit:function(){var e,t=y&&"string"===typeof r?y.type:"string"===typeof(e=u.type)&&-1!==["date","asset","text","integer","decimal","boolean"].indexOf(e)?u.type:"text",n={name:u.name,hide:u.hide};switch(t){case"text":case"integer":case"boolean":case"asset":w(Object(P.a)(Object(P.a)({},n),{},{type:t}));break;case"date":w(Object(P.a)(Object(P.a)({},n),{},{type:t,showTime:u.showTime}));break;case"decimal":w(Object(P.a)(Object(P.a)({},n),{},{type:t,precision:u.precision,description:void 0!==y&&M(y)?y.description:Q(u.decimalColumnDescription)?u.decimalColumnDescription:"base"}));break;default:console.warn("handleSubmit: Unreachable code: newType (".concat(t,") should be exhausted."))}null===c||void 0===c||c()},contentMaxWidth:"32rem",children:Object(qe.jsxs)(jt.a,{container:!0,spacing:2,children:[Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsx)(dt.a,{type:"text",label:"Role",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:z(null!==(t=null!==r&&void 0!==r?r:null===g||void 0===g?void 0:g.columns.extra.length)&&void 0!==t?t:0),disabled:!0})}),Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsx)(dt.a,{type:"text",label:"Column Name",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:u.name,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{name:e.target.value})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:8,children:Object(qe.jsxs)(dt.a,{select:!0,label:"Type",fullWidth:!0,variant:"outlined",size:"small",required:!0,disabled:"string"===typeof r,value:u.type,onChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{type:e.target.value})}))},children:[Object(qe.jsx)(k.a,{value:"text",children:"Text"}),Object(qe.jsx)(k.a,{value:"decimal",children:"Decimal"}),Object(qe.jsx)(k.a,{value:"integer",children:"Integer"}),Object(qe.jsx)(k.a,{value:"boolean",children:"Boolean"}),"string"===typeof r&&[Object(qe.jsx)(k.a,{value:"date",children:"Date"},"date"),Object(qe.jsx)(k.a,{value:"asset",children:"Asset"},"asset")]]})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsx)(At.a,{control:Object(qe.jsx)(wt.a,{}),checked:u.hide,onChange:function(e,t){return j((function(e){return Object(P.a)(Object(P.a)({},e),{},{hide:t})}))},label:"Hide",labelPlacement:"end"})}),"date"===u.type&&Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsx)(h.a,{marginLeft:"auto",marginRight:"auto",width:"fit-content",children:Object(qe.jsx)(At.a,{control:Object(qe.jsx)(wt.a,{}),checked:u.showTime,onChange:function(e,t){return j((function(e){return Object(P.a)(Object(P.a)({},e),{},{showTime:t})}))},label:"Show Time",labelPlacement:"end"})})}),"decimal"===u.type&&Object(qe.jsx)(Bt,{price:"price"===u.decimalColumnDescription,disableDescription:"string"===typeof r,description:u.decimalColumnDescription,onDescriptionChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{decimalColumnDescription:e})}))},precision:u.precision,onPrecisionChange:function(e){return j((function(t){return Object(P.a)(Object(P.a)({},t),{},{precision:e})}))},newPrecisionFields:O,onNewPrecisionFieldsChange:function(e){return m(e)},onNewPrecisionFieldsReset:S,assets:v})]})})},zt=n(237),Ft=n(236),Jt=n(256),Rt=n(125),Wt=n.n(Rt),It=n(126),Et=n.n(It),Qt=Object(v.a)((function(e){return{listItem:{paddingRight:function(e){return e.editHide?100:50}}}}));var Mt=function(e){var t,n=Qt(e),c=e.journal,i=e.onDialogClose,r=e.open,s=e.displayRoleDefault,l=e.editHide,u=Object(o.c)(),j=Object(o.d)(we)[c],d=null!==(t=null===j||void 0===j?void 0:j.columnOrder)&&void 0!==t?t:[],b=Object(a.useState)(d),O=Object(f.a)(b,2),m=O[0],h=O[1],x=Object(a.useState)([]),p=Object(f.a)(x,2),v=p[0],g=p[1],y=Object(a.useState)(null!==s&&void 0!==s&&s),C=Object(f.a)(y,2),S=C[0],k=C[1],A=function(){if(h(d),void 0!==j){var e=[];d.forEach((function(t){F(j,t).hide&&e.push(t)})),g(e)}else g([])},N=function(e,t){var n=Object(B.a)(m);n.splice(t,0,n.splice(e,1)[0]),h(n)};return Object(qe.jsxs)(vt,{objectName:"Columns Layout",edit:!0,open:r,onClose:i,onEnter:A,onReset:A,onSubmit:function(){void 0!==j&&(u(pe({index:c,columnOrder:m})),l&&m.forEach((function(e){var t=F(j,e),n=-1!==v.indexOf(e);u(he({index:c,role:e,column:Object(P.a)(Object(P.a)({},t),{},{hide:n})}))}))),null===i||void 0===i||i()},children:[Object(qe.jsx)(At.a,{control:Object(qe.jsx)(Ft.a,{}),checked:S,onChange:function(e,t){return k(t)},label:S?"Role":"Name",labelPlacement:"end"}),Object(qe.jsx)(Te.a,{children:m.map((function(e,t){return Object(qe.jsxs)(ze.a,{dense:!0,disableGutters:!0,divider:!0,classes:{secondaryAction:n.listItem},children:[Object(qe.jsx)(Fe.a,{children:Object(qe.jsx)(Jt.a,{title:"Reorder column up",children:Object(qe.jsx)(w.a,{disableRipple:!0,disabled:0===t,onClick:function(){return N(t,t-1)},"aria-label":"Reorder column up",children:Object(qe.jsx)(Wt.a,{})})})}),Object(qe.jsx)(Je.a,{primary:S?z(e):F(j,e).name}),Object(qe.jsxs)(zt.a,{children:[l&&Object(qe.jsx)(Jt.a,{title:"Show column",children:Object(qe.jsx)(wt.a,{checked:-1===v.indexOf(e),onChange:function(){return function(e){var t=v.indexOf(e),n=Object(B.a)(v);-1===t?n.push(e):n.splice(t,1),g(n)}(e)}})}),Object(qe.jsx)(Jt.a,{title:"Reorder column down",children:Object(qe.jsx)(w.a,{edge:"end",disableRipple:!0,disabled:t===m.length-1,onClick:function(){return N(t,t+1)},"aria-label":"Reorder column down",children:Object(qe.jsx)(Et.a,{})})})]})]},e)}))})]})},Lt=Object(v.a)((function(e){return{root:{"& > *":{borderBottom:"1px solid rgba(224, 224, 224, 1)",borderRight:"1px solid rgba(224, 224, 224, 1)","&:last-child":{borderRight:"none"}}},columnSettings:{marginLeft:"auto"}}}));function Ut(e){var t=Lt();return Object(qe.jsx)(rt.a,{className:t.root,children:e.journal.columnOrder.map((function(n){var a=F(e.journal,n);return!a.hide&&Object(qe.jsx)(at.a,{children:Object(qe.jsxs)(h.a,{display:"flex",children:[a.name,Object(qe.jsx)(w.a,{size:"small",edge:"end",onClick:function(){var t;return null===(t=e.onSettingsClick)||void 0===t?void 0:t.call(e,n)},className:t.columnSettings,children:Object(qe.jsx)(Xe.a,{fontSize:"small",style:{fontSize:"1rem"}})})]})},n)}))})}var Ht=Object(v.a)((function(e){return{root:{"& > *":{borderBottom:"1px solid rgba(224, 224, 224, 1)",borderRight:"1px solid rgba(224, 224, 224, 1)","&:last-child":{borderRight:"none"}}}}}));function Yt(e){var t=e.journal,n=e.transaction,a=e.assets,c=Ht();return Object(qe.jsx)(rt.a,{hover:!0,className:c.root,children:t.columnOrder.map((function(e){var c,i=F(t,e);return!i.hide&&Object(qe.jsx)(at.a,{align:(c=i.type,-1!==["date","integer","decimal"].indexOf(c)?"right":void 0),children:R(n,e,t,a)},e)}))})}var Gt=Object(v.a)((function(e){return{toolbar:{borderBottom:"1px solid ".concat(e.palette.divider)},title:{flexGrow:1},table:{borderRadius:0,boxShadow:"none"},fab:{position:"fixed",bottom:e.spacing(2),right:e.spacing(2)}}}));var Xt=function(e){var t=Gt(),n=Object(a.useState)(null),c=Object(f.a)(n,2),i=c[0],r=c[1],s=Object(a.useState)(!1),l=Object(f.a)(s,2),u=l[0],j=l[1],d=Object(a.useState)(null),b=Object(f.a)(d,2),O=b[0],m=b[1],p=Object(a.useState)(!1),v=Object(f.a)(p,2),g=v[0],y=v[1],A=Object(a.useState)(!1),N=Object(f.a)(A,2),q=N[0],D=N[1],B=Object(a.useState)(!1),P=Object(f.a)(B,2),T=P[0],z=P[1],F=Object(a.useState)(null),J=Object(f.a)(F,2),R=J[0],W=J[1],I=Object(o.d)(ke),E=Object(o.d)(we)[e.journal];return Object(qe.jsxs)(h.a,{role:"tabpanel",children:[Object(qe.jsxs)(x.a,{className:t.toolbar,children:[Object(qe.jsx)(C.a,{variant:"h6",className:t.title,children:E.name}),Object(qe.jsx)(w.a,{onClick:function(e){return r(e.currentTarget)},children:Object(qe.jsx)(ut.a,{})})]}),Object(qe.jsx)(ct.a,{component:ot.a,className:t.table,children:Object(qe.jsxs)(tt.a,{size:"small",stickyHeader:!0,children:[Object(qe.jsx)(it.a,{children:Object(qe.jsx)(Ut,{journal:E,onSettingsClick:function(e){W(e),z(!0)}})}),Object(qe.jsx)(nt.a,{children:E.transactions.map((function(e,t){return Object(qe.jsx)(Yt,{journal:E,transaction:e,assets:I},t)}))})]})}),Object(qe.jsx)(st.a,{color:"secondary",className:t.fab,onClick:function(){m(null),j(!0)},children:Object(qe.jsx)(et.a,{})}),Object(qe.jsx)(yt,{journal:e.journal,transaction:O,open:u,onDialogClose:function(){return j(!1)}}),Object(qe.jsx)(St,{journal:e.journal,open:g,onDialogClose:function(){return y(!1)}}),Object(qe.jsx)(Tt,{journal:e.journal,role:R,open:T,onDialogClose:function(){return z(!1)}}),Object(qe.jsx)(Mt,{journal:e.journal,open:q,onDialogClose:function(){return D(!1)},editHide:!0}),Object(qe.jsxs)(S.a,{anchorEl:i,open:null!==i,onClose:function(){return r(null)},children:[Object(qe.jsx)(k.a,{onClick:function(){y(!0),r(null)},children:"Settings"}),Object(qe.jsx)(k.a,{onClick:function(){D(!0),r(null)},children:"Columns"})]})]})};var $t=function(){return Object(qe.jsx)("div",{role:"tabpanel",children:Object(qe.jsx)(C.a,{variant:"h3",children:"Add Journal"})})};var Kt=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(o.d)(we);return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsx)(y.a,{position:"static",children:Object(qe.jsxs)(Ve.a,{value:n,onChange:function(e,t){return i(t)},"aria-label":"Journals tab",children:[r.map((function(e,t){return Object(qe.jsx)(Ze.a,{label:e.name,"aria-label":"".concat(e.name," tab")},t)})),Object(qe.jsx)(Ze.a,{icon:Object(qe.jsx)(et.a,{})})]})}),r.map((function(e,t){return n===t&&Object(qe.jsx)(Xt,{journal:t},t)})),n===r.length&&Object(qe.jsx)($t,{})]})};var Vt=function(e){return Object(qe.jsx)("p",{children:"Capital Changes"})};var Zt=function(e){return Object(qe.jsx)("p",{children:"Asset Statements"})},_t=n(247),en=n(85),tn=n.n(en),nn={name:"",ticker:"",precision:2,pricePrecision:2,isCurrency:!1,symbol:""};var an=function(e){var t=e.open,n=e.asset,c=e.onDialogClose,i=e.onSubmit,r=Object(a.useState)(nn),o=Object(f.a)(r,2),s=o[0],l=o[1],u=function(){var e;n?l({name:n.name,ticker:n.ticker,precision:n.precision,pricePrecision:n.pricePrecision,isCurrency:n.isCurrency,symbol:null!==(e=n.symbol)&&void 0!==e?e:""}):l(nn)};return Object(qe.jsx)(vt,{objectName:"Asset",edit:Boolean(n),open:t,onClose:c,onEnter:u,onReset:u,onSubmit:function(){return null===i||void 0===i?void 0:i(s)},contentMaxWidth:"30rem",children:Object(qe.jsxs)(jt.a,{container:!0,spacing:2,children:[Object(qe.jsx)(jt.a,{item:!0,xs:12,children:Object(qe.jsx)(dt.a,{type:"text",label:"Asset Name",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:s.name,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{name:e.target.value})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:5,children:Object(qe.jsx)(dt.a,{type:"text",label:"Ticker",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:s.ticker,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{ticker:e.target.value})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:3,children:Object(qe.jsx)(dt.a,{type:"text",label:"Symbol",fullWidth:!0,variant:"outlined",size:"small",value:s.symbol,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{symbol:e.target.value})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:4,children:Object(qe.jsx)(At.a,{control:Object(qe.jsx)(wt.a,{}),checked:s.isCurrency,onChange:function(e,t){return l((function(e){return Object(P.a)(Object(P.a)({},e),{},{isCurrency:t})}))},label:"Currency",labelPlacement:"end"})}),Object(qe.jsx)(jt.a,{item:!0,xs:6,children:Object(qe.jsx)(dt.a,{type:"number",label:"Precision",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:s.precision,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{precision:parseInt(e.target.value)})}))}})}),Object(qe.jsx)(jt.a,{item:!0,xs:6,children:Object(qe.jsx)(dt.a,{type:"number",label:"Price Precision",fullWidth:!0,variant:"outlined",size:"small",required:!0,value:s.pricePrecision,onChange:function(e){return l((function(t){return Object(P.a)(Object(P.a)({},t),{},{pricePrecision:parseInt(e.target.value)})}))}})})]})})},cn=Object(v.a)((function(e){return{root:{paddingTop:e.spacing(2),paddingBottom:e.spacing(2),paddingLeft:e.spacing(4),paddingRight:e.spacing(4)}}}));var rn=function(e){var t=cn();return Object(qe.jsx)(ot.a,{component:"section",elevation:0,variant:"outlined",className:Object(g.a)(t.root,e.className),children:e.children})},on=Object(v.a)((function(e){return{button:{marginLeft:e.spacing(.5),marginBottom:e.spacing(.5),padding:e.spacing(1)}}}));var sn=function(e){var t=e.variant,n=void 0===t?"h6":t,a=Object(bt.a)(e,["variant"]),c=on();return Object(qe.jsxs)(C.a,{variant:n,gutterBottom:a.gutterBottom,children:[a.title,Object(qe.jsx)(w.a,{size:"small",onClick:a.onClick,color:a.buttonColor,className:c.button,children:a.icon})]})};var ln=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(o.c)(),s=Object(o.d)(Ce);return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsxs)(rn,{children:[Object(qe.jsx)(sn,{variant:"h6",gutterBottom:!0,title:"Accounting Currency",icon:Object(qe.jsx)(tn.a,{fontSize:"small"}),onClick:function(){return i(!0)}}),Object(qe.jsx)(ct.a,{children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(it.a,{children:Object(qe.jsxs)(rt.a,{children:[Object(qe.jsx)(at.a,{children:"Name"}),Object(qe.jsx)(at.a,{align:"center",children:"Ticker"}),Object(qe.jsx)(at.a,{align:"center",children:"Precision"}),Object(qe.jsx)(at.a,{align:"center",children:"Price Precision"}),Object(qe.jsx)(at.a,{align:"center",children:"Currency"}),Object(qe.jsx)(at.a,{align:"center",children:"Symbol"})]})}),Object(qe.jsx)(nt.a,{children:Object(qe.jsxs)(rt.a,{children:[Object(qe.jsx)(at.a,{children:null===s||void 0===s?void 0:s.name}),Object(qe.jsx)(at.a,{align:"center",children:null===s||void 0===s?void 0:s.ticker}),Object(qe.jsx)(at.a,{align:"center",children:null===s||void 0===s?void 0:s.precision}),Object(qe.jsx)(at.a,{align:"center",children:null===s||void 0===s?void 0:s.pricePrecision}),Object(qe.jsx)(at.a,{align:"center",children:(null===s||void 0===s?void 0:s.isCurrency)?"Yes":"No"}),Object(qe.jsx)(at.a,{align:"center",children:null===s||void 0===s?void 0:s.symbol})]})})]})})]}),Object(qe.jsx)(an,{open:n,onDialogClose:function(){return i(!1)},asset:s,onSubmit:function(e){r(se({currency:e})),i(!1)}})]})},un=n(128),jn=n.n(un),dn=Object(v.a)((function(e){return{root:{color:e.palette.error.main}}}));var bn=function(e){var t=dn();return Object(qe.jsx)(w.a,{onClick:e.onClick,disabled:e.disabled,size:e.buttonSize,className:t.root,"aria-label":"Delete",children:Object(qe.jsx)(jn.a,{fontSize:e.iconSize})})},On=Object(v.a)((function(e){return{tableRow:{cursor:"pointer"}}}));var mn=function(){var e=On(),t=Object(a.useState)(!1),n=Object(f.a)(t,2),i=n[0],r=n[1],s=Object(a.useState)(-1),l=Object(f.a)(s,2),u=l[0],j=l[1],d=Object(o.c)(),b=Object(o.d)(Se);return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsxs)(rn,{children:[Object(qe.jsx)(sn,{variant:"h6",gutterBottom:!0,title:"Assets",icon:Object(qe.jsx)(et.a,{fontSize:"small"}),onClick:function(){j(-1),r(!0)}}),Object(qe.jsx)(ct.a,{children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(it.a,{children:Object(qe.jsxs)(rt.a,{children:[Object(qe.jsx)(at.a,{children:"Name"}),Object(qe.jsx)(at.a,{align:"center",children:"Ticker"}),Object(qe.jsx)(at.a,{align:"center",children:"Precision"}),Object(qe.jsx)(at.a,{align:"center",children:"Price Precision"}),Object(qe.jsx)(at.a,{align:"center",children:"Currency"}),Object(qe.jsx)(at.a,{align:"center",children:"Symbol"}),Object(qe.jsx)(at.a,{align:"center"})]})}),Object(qe.jsx)(nt.a,{children:b.map((function(t,n){return Object(qe.jsxs)(rt.a,{hover:!0,className:e.tableRow,onClick:function(){return j(n),void r(!0)},children:[Object(qe.jsx)(at.a,{children:t.name}),Object(qe.jsx)(at.a,{align:"center",children:t.ticker}),Object(qe.jsx)(at.a,{align:"center",children:t.precision}),Object(qe.jsx)(at.a,{align:"center",children:t.pricePrecision}),Object(qe.jsx)(at.a,{align:"center",children:t.isCurrency?"Yes":"No"}),Object(qe.jsx)(at.a,{align:"center",children:t.symbol}),Object(qe.jsx)(at.a,{align:"center",size:"small",children:Object(qe.jsx)(bn,{onClick:function(e){return function(e,t){d(je({index:t})),e.stopPropagation()}(e,n)}})})]},n)}))})]})})]}),Object(qe.jsx)(an,{open:i,onDialogClose:function(){return r(!1)},asset:b[u],onSubmit:function(e){d(u<0?le({asset:e}):ue({index:u,asset:e})),r(!1)}})]})},hn=n(246),xn=n(255),pn=n(129),fn=n.n(pn),vn=n(130),gn=n.n(vn),yn=Object(v.a)((function(e){return{root:{cursor:"pointer"}}}));function Cn(e){var t=yn(),n=e.role,a=e.journalIndex,c=e.journalColumn,i=e.onClick,r=Object(o.c)();return Object(qe.jsxs)(rt.a,{hover:!0,onClick:i,className:t.root,children:[Object(qe.jsx)(at.a,{children:z(n)}),Object(qe.jsx)(at.a,{children:c.name}),Object(qe.jsx)(at.a,{children:c.type}),Object(qe.jsx)(at.a,{align:"center",children:"decimal"===c.type&&(0===Object.keys(c.precision).length?"Default":"".concat(Object.keys(c.precision).length," mapping(s)"))}),Object(qe.jsx)(at.a,{align:"center",children:"date"===c.type&&(c.showTime?"Yes":"No")}),Object(qe.jsx)(at.a,{align:"center",children:c.hide?"Yes":"No"}),Object(qe.jsx)(at.a,{align:"center",children:Object(qe.jsx)(bn,{buttonSize:"small",iconSize:"small",disabled:"number"!==typeof n,onClick:function(e){"number"===typeof n&&r(xe({journalIndex:a,columnIndex:n})),e.stopPropagation()}})})]})}var Sn=Object(v.a)((function(e){return{mainRow:{cursor:"pointer","& > *":{borderBottom:"none"}},collapsibleCell:{paddingTop:0,paddingBottom:0},columnOrderChip:{marginRight:e.spacing(.5),marginBottom:e.spacing(.5)}}}));function kn(e){var t=Sn(),n=e.journal,i=e.index,r=e.onAddColumn,s=e.onEditColumn,l=e.onEditColumnOrder,u=e.onClick,j=Object(a.useState)(!1),d=Object(f.a)(j,2),b=d[0],O=d[1],m=Object(o.c)();return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsxs)(rt.a,{hover:!0,onClick:u,className:t.mainRow,children:[Object(qe.jsx)(at.a,{children:n.name}),Object(qe.jsx)(at.a,{align:"center",children:n.type}),Object(qe.jsx)(at.a,{align:"center",size:"small",children:Object(qe.jsx)(w.a,{"aria-label":"Expand row",onClick:function(e){O((function(e){return!e})),e.stopPropagation()},children:b?Object(qe.jsx)(fn.a,{}):Object(qe.jsx)(gn.a,{})})}),Object(qe.jsx)(at.a,{align:"center",size:"small",children:Object(qe.jsx)(bn,{onClick:function(e){m(Oe({index:i})),e.stopPropagation()}})})]}),Object(qe.jsx)(rt.a,{children:Object(qe.jsx)(at.a,{colSpan:4,className:t.collapsibleCell,children:Object(qe.jsx)(hn.a,{in:b,timeout:"auto",unmountOnExit:!0,children:Object(qe.jsxs)(h.a,{margin:1,children:[Object(qe.jsx)(sn,{variant:"h6",title:"Columns",icon:Object(qe.jsx)(et.a,{fontSize:"small"}),onClick:r}),Object(qe.jsxs)(tt.a,{size:"small","aria-label":"Journal columns",children:[Object(qe.jsx)(it.a,{children:Object(qe.jsxs)(rt.a,{children:[Object(qe.jsx)(at.a,{children:"Role"}),Object(qe.jsx)(at.a,{children:"Name"}),Object(qe.jsx)(at.a,{children:"Type"}),Object(qe.jsx)(at.a,{align:"center",children:"Precision"}),Object(qe.jsx)(at.a,{align:"center",children:"Show Time"}),Object(qe.jsx)(at.a,{align:"center",children:"Hide"}),Object(qe.jsx)(at.a,{align:"center"})]})}),Object(qe.jsxs)(nt.a,{children:[Object.entries(n.columns).map((function(e){var t=Object(f.a)(e,2),n=t[0],a=t[1];return"extra"!==n&&Object(qe.jsx)(Cn,{role:n,journalIndex:i,journalColumn:a,onClick:function(){return null===s||void 0===s?void 0:s(n)}},n)})),n.columns.extra.map((function(e,t){return Object(qe.jsx)(Cn,{role:t,journalIndex:i,journalColumn:e,onClick:function(){return null===s||void 0===s?void 0:s(t)}},t)}))]})]}),Object(qe.jsxs)(h.a,{mt:1,children:[Object(qe.jsx)(sn,{variant:"h6",title:"Column Order",icon:Object(qe.jsx)(tn.a,{fontSize:"small"}),onClick:l}),Object(qe.jsx)(h.a,{display:"flex",flexWrap:"wrap",children:n.columnOrder.map((function(e){return Object(qe.jsx)(xn.a,{label:z(e),className:t.columnOrderChip},e)}))})]})]})})})})]})}var wn=function(){var e=Object(a.useState)(!1),t=Object(f.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(!1),s=Object(f.a)(r,2),l=s[0],u=s[1],j=Object(a.useState)(!1),d=Object(f.a)(j,2),b=d[0],O=d[1],m=Object(a.useState)(-1),h=Object(f.a)(m,2),x=h[0],p=h[1],v=Object(a.useState)(null),g=Object(f.a)(v,2),y=g[0],C=g[1],S=Object(o.d)(we);return Object(qe.jsxs)(c.a.Fragment,{children:[Object(qe.jsxs)(rn,{children:[Object(qe.jsx)(sn,{variant:"h6",title:"Journals",icon:Object(qe.jsx)(et.a,{fontSize:"small"}),onClick:function(){p(-1),i(!0)}}),Object(qe.jsx)(ct.a,{children:Object(qe.jsxs)(tt.a,{children:[Object(qe.jsx)(it.a,{children:Object(qe.jsxs)(rt.a,{children:[Object(qe.jsx)(at.a,{children:"Name"}),Object(qe.jsx)(at.a,{align:"center",children:"Type"}),Object(qe.jsx)(at.a,{align:"center",children:"Columns"}),Object(qe.jsx)(at.a,{align:"center"})]})}),Object(qe.jsx)(nt.a,{children:S.map((function(e,t){return Object(qe.jsx)(kn,{journal:e,index:t,onClick:function(){return p(t),void i(!0)},onAddColumn:function(){return p(t),C(null),void u(!0)},onEditColumn:function(e){return function(e,t){p(e),C(t),u(!0)}(t,e)},onEditColumnOrder:function(){return p(t),void O(!0)}},t)}))})]})})]}),Object(qe.jsx)(St,{open:n,onDialogClose:function(){return i(!1)},journal:x}),Object(qe.jsx)(Tt,{open:l,onDialogClose:function(){return u(!1)},journal:x,role:y}),Object(qe.jsx)(Mt,{open:b,onDialogClose:function(){return O(!1)},journal:x,displayRoleDefault:!0})]})};var An=function(){return Object(qe.jsxs)(_t.a,{children:[Object(qe.jsx)(h.a,{my:2,children:Object(qe.jsx)(C.a,{variant:"h4",children:"Account Settings"})}),Object(qe.jsx)(h.a,{my:2,children:Object(qe.jsx)(ln,{})}),Object(qe.jsx)(h.a,{my:2,children:Object(qe.jsx)(mn,{})}),Object(qe.jsx)(h.a,{my:2,children:Object(qe.jsx)(wn,{})})]})},Nn=function(e){Object(b.a)(n,e);var t=Object(O.a)(n);function n(e){var a;return Object(u.a)(this,n),(a=t.call(this,e)).state={drawerOpen:!1},a.openDrawer=a.openDrawer.bind(Object(d.a)(a)),a.closeDrawer=a.closeDrawer.bind(Object(d.a)(a)),a}return Object(j.a)(n,[{key:"openDrawer",value:function(){this.setState({drawerOpen:!0})}},{key:"closeDrawer",value:function(){this.setState({drawerOpen:!1})}},{key:"componentDidMount",value:function(){this.props.dispatch(re("Coinbase"))}},{key:"render",value:function(){return Object(qe.jsxs)(h.a,{display:"flex",children:[Object(qe.jsx)(Be,{onMenuClick:this.openDrawer,drawerOpen:this.state.drawerOpen}),Object(qe.jsx)("aside",{children:Object(qe.jsx)(Ke,{open:this.state.drawerOpen,onClose:this.closeDrawer})}),Object(qe.jsxs)(h.a,{component:"main",flexGrow:1,children:[Object(qe.jsx)(x.a,{}),Object(qe.jsxs)(m.c,{children:[Object(qe.jsx)(m.a,{path:"/journals",children:Object(qe.jsx)(Kt,{})}),Object(qe.jsx)(m.a,{path:"/capital-changes",children:Object(qe.jsx)(Vt,{})}),Object(qe.jsx)(m.a,{path:"/asset-statements",children:Object(qe.jsx)(Zt,{})}),Object(qe.jsx)(m.a,{path:"/account-settings",children:Object(qe.jsx)(An,{})}),Object(qe.jsx)(m.a,{path:"/",children:Object(qe.jsx)(Kt,{})})]})]})]})}}]),n}(c.a.Component),qn=Object(o.b)()(Nn),Dn=Object(T.b)({name:"navigation",initialState:{user:"New User"},reducers:{changeUser:function(e,t){e.user=t.payload}}}),Bn=(Dn.actions.changeUser,Dn.reducer),Pn=Object(T.a)({reducer:{navigation:Bn,accounts:Ae}}),Tn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,257)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};r.a.render(Object(qe.jsxs)(c.a.StrictMode,{children:[Object(qe.jsx)(l.a,{}),Object(qe.jsx)(o.a,{store:Pn,children:Object(qe.jsx)(s.a,{children:Object(qe.jsx)(qn,{})})})]}),document.getElementById("root")),Tn()}},[[170,1,2]]]);
//# sourceMappingURL=main.98db65b5.chunk.js.map