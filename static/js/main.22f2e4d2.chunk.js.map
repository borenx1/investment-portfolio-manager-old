{"version":3,"sources":["models/Account.js","features/accounts/accountsSlice.js","constants.js","features/navigation/TopAppBar.js","features/navigation/navigationSlice.js","features/navigation/SideDrawer.js","components/AddEditDialog.js","features/transactions/AddEditTransactionDialog.js","features/transactions/TransactionSheet.js","features/transactions/AddTransactionTypeForm.js","features/transactions/Transactions.js","features/capital-changes/CapitalChanges.js","features/journals/Journals.js","features/accounts/AddEditAssetDialog.js","features/accounts/AccountSettings.js","AppContent.js","App.js","app/store.js","reportWebVitals.js","index.js"],"names":["defaultAccountSettings","baseCurrency","asset","accountSettings","defaultAssets","defaultJournals","journal","transaction","dateTimeFormat","journalColumnSet","journalColumn","undefined","tradingColumns","expenseColumns","name","ticker","precision","pricePrecision","isCurrency","symbol","date","base","baseAmount","quote","quoteAmount","feeBase","feeQuote","notes","misc","price","extra","type","hide","transactions","columns","columnOrder","accountsSlice","createSlice","initialState","accounts","activeAccount","reducers","changeAccount","state","action","accountIndex","parseInt","payload","Math","max","addAccount","push","console","warn","addDefaultAccount","String","settings","assets","journals","account","addTransaction","changeAccountingCurrency","currency","actions","selectAccounts","selectActiveAccountIndex","selectActiveAccount","length","selectActiveAccountName","selectActiveAccountAccountingCurrency","drawerWidth","useStyles","makeStyles","theme","root","menuButton","marginRight","spacing","display","props","drawerOpen","appBar","zIndex","drawer","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarDrawerOpen","marginLeft","width","enteringScreen","TopAppBar","classes","useState","menuAnchor","setMenuAnchor","dispatch","useDispatch","useSelector","activeAccountIndex","activeAccountName","handleChangeAccount","index","e","Fragment","AppBar","position","className","clsx","Toolbar","IconButton","onClick","onMenuClick","color","aria-label","Typography","variant","currentTarget","aria-haspopup","Menu","anchorEl","open","Boolean","onClose","map","a","MenuItem","selected","navigationSlice","user","page","changePage","selectPage","navigation","toolbar","alignItems","justifyContent","padding","mixins","whiteSpace","drawerClose","overflowX","breakpoints","up","SideDrawer","activePage","Drawer","anchor","paper","Divider","List","component","ListItem","button","ListItemIcon","ListItemText","primary","ListSubheader","inset","disableSticky","AddEditDialog","Dialog","onEnter","DialogTitle","edit","objectName","DialogContent","dividers","children","DialogActions","Button","onReset","onSubmit","getCurrentLocalDateTime","currentDateTime","Date","getTimezoneOffset","toISOString","slice","AddEditTransactionDialog","trade","fee","feeCurrency","fields","setFields","resetForm","onDialogClose","preventDefault","Grid","container","item","xs","TextField","size","label","required","value","onChange","s","target","InputLabelProps","shrink","fullWidth","select","multiline","borderRadius","boxShadow","fab","bottom","right","TransactionSheet","dialogOpen","setDialogOpen","dialogEdit","setDialogEdit","active","role","TableContainer","Paper","Table","TableHead","TableRow","TableCell","TableBody","tx","align","Fab","AddTransactionTypeForm","Transactions","React","activeTab","setActiveTab","Tabs","v","Tab","icon","CapitalChanges","Journals","AddEditAssetDialog","log","FormControlLabel","control","Checkbox","checked","labelPlacement","AccountSettings","baseCurrencyDialogOpen","setBaseCurrencyDialogOpen","accountingCurrency","Container","AppContent","App","openDrawer","bind","closeDrawer","this","setState","content","Component","withStyles","flexGrow","connect","configureStore","reducer","navigationReducer","accountsReducer","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","CssBaseline","store","document","getElementById"],"mappings":"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","file":"static/js/main.22f2e4d2.chunk.js","sourcesContent":["const defaultAccountSettings = accountSettings(\r\n  asset('United States Dollar', 'USD', 2, 4, true, '$'),\r\n);\r\nconst defaultAssets = [\r\n  asset('Bitcoin', 'BTC', 8, 2, true, '₿'),\r\n];\r\nconst defaultJournals = [\r\n  journal(\r\n    'Trading',\r\n    'trading',\r\n    [\r\n      transaction('01/01/2021', 'BTC', 1, 'USD', 50000, 0, 20, 'First transaction'),\r\n      transaction('02/01/2021', 'BTC', 0.5, 'USD', 25000, 0, 10, 'Second transaction'),\r\n    ],\r\n    tradingColumns(),\r\n    ['date', 'base', 'baseAmount', 'quote', 'quoteAmount', 'price', 'feeBase', 'feeQuote', 'notes'],\r\n  ),\r\n  journal(\r\n    'Misc fees',\r\n    'expense',\r\n    [],\r\n    expenseColumns(),\r\n    ['date', 'base', 'baseAmount', 'quote', 'quoteAmount', 'price', 'feeBase', 'feeQuote', 'notes'],\r\n  ),\r\n];\r\n\r\n/**\r\n * Account settings.\r\n * @param {Object} baseCurrency The base currency of the account.\r\n * @returns An object with the given members.\r\n */\r\nexport function accountSettings(baseCurrency = asset('United States Dollar', 'USD', '$', 2, 4)) {\r\n  // TODO rename to accountingCurrency\r\n  return {baseCurrency};\r\n}\r\n\r\n/**\r\n * Asset settings.\r\n * @param {String} name Name of the asset, e.g. Bitcoin.\r\n * @param {String} ticker Ticker of the asset, e.g. BTC.\r\n * @param {Number} precision The precision used to record amounts.\r\n * @param {Number} pricePrecision The default precision used to show prices.\r\n * @param {Boolean} isCurrency true if the asset is a currency.\r\n * @param {String} symbol Symbol of the asset, e.g. ₿.\r\n * @returns An object with the given members.\r\n */\r\nexport function asset(name, ticker, precision = 2, pricePrecision = 2, isCurrency = false, symbol = '') {\r\n  return {name, ticker, precision, pricePrecision, isCurrency, symbol};\r\n}\r\n\r\n/**\r\n * A transaction (trade, income or expense).\\\r\n * An income transaction has positive base and quote amounts.\\\r\n * An expense transaction has negative base and no quote amount.\\\r\n * A trade has opposite base and quote amount signs.\r\n * @param {Date} date Date of the transaction.\r\n * @param {String} base Base currency/asset.\r\n * @param {Number} baseAmount Amount of base changed, i.e. amount.\r\n * @param {String} quote Quote currency/asset.\r\n * @param {Number} quoteAmount Amount of quote changed, i.e. total.\r\n * @param {Number} feeBase Fee in base currency.\r\n * @param {Number} feeQuote Fee in quote currency.\r\n * @param {String} notes User written notes.\r\n * @param {Object[]} misc Extra properties, e.g. [{name: 'Exchange', type: 'string', value: 'NYSE'}].\r\n * @returns An object with the given members.\r\n */\r\nexport function transaction(\r\n  date,\r\n  base = 'USD',\r\n  baseAmount = 0,\r\n  quote = 'USD',\r\n  quoteAmount = 0,\r\n  feeBase = 0,\r\n  feeQuote = 0,\r\n  notes = '',\r\n  misc = []\r\n) {\r\n  return {date, base, baseAmount, quote, quoteAmount, feeBase, feeQuote, notes, misc};\r\n}\r\n\r\n/**\r\n * A set of journal columns.\r\n * @param {*} date Date journal column.\r\n * @param {*} base Base journal column.\r\n * @param {*} baseAmount Base amount journal column.\r\n * @param {*} quote Quote journal column.\r\n * @param {*} quoteAmount Quote amount journal column.\r\n * @param {*} price Price journal column.\r\n * @param {*} feeBase Fee in base curreny journal column.\r\n * @param {*} feeQuote Fee in quote curreny journal column.\r\n * @param {*} notes Notes journal column.\r\n * @param {*} extra Extra journal columns.\r\n * @returns An object with the given members.\r\n */\r\nexport function journalColumnSet(date, base, baseAmount, quote, quoteAmount, price, feeBase, feeQuote, notes, extra = []) {\r\n  return {\r\n    date, base, baseAmount, quote, quoteAmount, price, feeBase, feeQuote, notes, extra,\r\n  };\r\n}\r\n\r\nexport function tradingColumns(dateTimeFormat = 'date') {\r\n  return journalColumnSet(\r\n    journalColumn('Date', 'date', false, undefined, dateTimeFormat),\r\n    journalColumn('Asset', 'string', false),\r\n    journalColumn('Amount', 'number', false, 8),\r\n    journalColumn('Quote', 'string', true),\r\n    journalColumn('Total', 'number', false, 2),\r\n    journalColumn('Price', 'number', false, 2),\r\n    journalColumn('Fee (Base)', 'number', true, 8),\r\n    journalColumn('Fee', 'number', false, 2),\r\n    journalColumn('Notes', 'string', false),\r\n  );\r\n}\r\n\r\nexport function incomeColumns(dateTimeFormat = 'date') {\r\n  return journalColumnSet(\r\n    journalColumn('Date', 'date', false, undefined, dateTimeFormat),\r\n    journalColumn('Asset', 'string', false),\r\n    journalColumn('Amount', 'number', false, 2),\r\n    journalColumn('Quote', 'string', true),\r\n    journalColumn('Total', 'number', true, 2),\r\n    journalColumn('Price', 'number', true, 2),\r\n    journalColumn('Fee (Base)', 'number', true, 8),\r\n    journalColumn('Fee', 'number', true, 2),\r\n    journalColumn('Notes', 'string', false),\r\n  );\r\n}\r\n\r\nexport function expenseColumns(dateTimeFormat = 'date') {\r\n  return journalColumnSet(\r\n    journalColumn('Date', 'date', false, undefined, dateTimeFormat),\r\n    journalColumn('Asset', 'string', false),\r\n    journalColumn('Amount', 'number', false, 2),\r\n    journalColumn('Quote', 'string', true),\r\n    journalColumn('Total', 'number', true, 2),\r\n    journalColumn('Price', 'number', true, 2),\r\n    journalColumn('Fee (Base)', 'number', true, 8),\r\n    journalColumn('Fee', 'number', true, 2),\r\n    journalColumn('Notes', 'string', false),\r\n  );\r\n}\r\n\r\n/**\r\n * Journal column settings.\r\n * @param {String} name Name of the column.\r\n * @param {String} type Type of column, one of: 'date', 'string', 'number', 'integer'.\r\n * @param {Boolean} hide Hide the column if true.\r\n * @param {Number} precision Precision of the column if the type is 'number'.\r\n * @param {String} dateTimeFormat Date time format if the type is 'date', one of: 'date', 'time', 'datetime'.\r\n * @returns An object with the given members.\r\n */\r\nexport function journalColumn(name, type, hide = false, precision = 2, dateTimeFormat = 'date') {\r\n  return {name, type, hide, precision, dateTimeFormat};\r\n}\r\n\r\n/**\r\n * A journal for an account.\r\n * @param {String} name Name of the journal.\r\n * @param {String} type Type of the journal, one of: 'trading', 'income', 'expense'.\r\n * @param {Object[]} transactions List of transactions.\r\n * @param {Object} columns Mapping of columns and their settings.\r\n * @param {String[]} columnOrder The shown order of the columns.\r\n * @returns An object with the given members.\r\n */\r\nexport function journal(name, type = 'trading', transactions = [], columns = {}, columnOrder = []) {\r\n  return {name, type, transactions, columns, columnOrder};\r\n}\r\n\r\n/**\r\n * A trading account.\r\n * @param {String} name Name of the account.\r\n * @param {Object} settings Account settings.\r\n * @param {Object[]} assets Managed assets of the account.\r\n * @param {Object[]} journals List of Transaction journals.\r\n * @returns An object with the given members.\r\n */\r\nexport function account(name, settings = defaultAccountSettings, assets = defaultAssets, journals = defaultJournals,) {\r\n  return {name, settings, assets, journals};\r\n}","import { createSlice } from '@reduxjs/toolkit';\r\nimport { account, transaction } from '../../models/Account';\r\n\r\nexport const accountsSlice = createSlice({\r\n  name: 'transactions',\r\n  initialState: {\r\n    accounts: [],       // Array of accounts\r\n    activeAccount: 0,   // Integer\r\n  },\r\n  reducers: {\r\n    /**\r\n     * Change the active account (-1 for all accounts). Receives an index from the payload. Invalid values\r\n     * are evaluated as 0. Negative numbers are evaluated as -1 (all accounts).\r\n     */\r\n    // TODO rename to switchAccount\r\n    changeAccount: (state, action) => {\r\n      const accountIndex = parseInt(action.payload);\r\n      state.activeAccount = accountIndex ? Math.max(accountIndex, -1) : 0;\r\n    },\r\n    addAccount: (state, action) => {\r\n      if (action.payload) {\r\n        state.accounts.push(action.payload);\r\n      } else {\r\n        console.warn(`Attempted to add invalid account: ${action.payload}`);\r\n      }\r\n    },\r\n    addDefaultAccount: (state, action) => {\r\n      const name = action.payload ? String(action.payload) : 'New Account';\r\n      state.accounts.push(account(name));\r\n    },\r\n    addTransaction: (state, action) => {\r\n      // Takes payload: {account: activeAccountIndex, transaction: Tx, journal: journalIndex}\r\n      const account = state.accounts[action.payload.account || state.activeAccount];\r\n      const journal = action.payload.journal;\r\n      const transaction = action.payload.transaction;\r\n      account.journals[journal].transactions.push(transaction);\r\n    },\r\n    /**\r\n     * Changes the accounting currency. Receives payload {account: activeAccountIndex, currency: asset}.\r\n     * Ignores invalid values for currency.\r\n     */\r\n    changeAccountingCurrency: (state, action) => {\r\n      if (action.payload && 'currency' in action.payload) {\r\n        // Updates the active account if no account provided\r\n        const account = state.accounts[action.payload.account || state.activeAccount];\r\n        account.settings.baseCurrency = action.payload.currency;\r\n      }\r\n    },\r\n  }\r\n});\r\n\r\n// Actions\r\nexport const { changeAccount, addAccount, addDefaultAccount, addTransaction, changeAccountingCurrency } = accountsSlice.actions;\r\n\r\n// Selectors\r\n// TODO consider selector errors\r\nexport const selectAccounts = state => state.accounts.accounts;\r\nexport const selectActiveAccountIndex = state => state.accounts.activeAccount;\r\nexport const selectActiveAccount = state => {\r\n  const accounts = selectAccounts(state);\r\n  const activeAccount = selectActiveAccountIndex(state);\r\n  return activeAccount < accounts.length ? accounts[activeAccount] : null;\r\n}\r\nexport const selectActiveAccountName = state => {\r\n  const activeAccount = selectActiveAccount(state);\r\n  return activeAccount ? activeAccount.name : 'No account selected';\r\n}\r\nexport const selectActiveAccountAccountingCurrency = state => {\r\n  const activeAccount = selectActiveAccount(state);\r\n  return activeAccount ? activeAccount.settings.baseCurrency : null;\r\n}\r\n\r\nexport default accountsSlice.reducer;","export const drawerWidth = '15rem';","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx'\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowDropDownCircleIcon from '@material-ui/icons/ArrowDropDownCircle';\r\nimport { selectAccounts, selectActiveAccountIndex, selectActiveAccountName, changeAccount } from '../accounts/accountsSlice';\r\nimport { drawerWidth } from '../../constants';\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    display: props => props.drawerOpen ? 'none' : 'initial'\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  },\r\n  appBarDrawerOpen: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth})`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  }\r\n}));\r\n\r\nfunction TopAppBar(props) {\r\n  const classes = useStyles(props);\r\n  // Controls the showing of the \"change account\" menu\r\n  const [menuAnchor, setMenuAnchor] = useState(null);\r\n  const dispatch = useDispatch();\r\n  const accounts = useSelector(selectAccounts);\r\n  const activeAccountIndex = useSelector(selectActiveAccountIndex);\r\n  const activeAccountName = useSelector(selectActiveAccountName);\r\n\r\n  const handleChangeAccount = (index) => (e) => {\r\n    dispatch(changeAccount(index));\r\n    setMenuAnchor(null);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <AppBar\r\n        position=\"fixed\"\r\n        className={clsx(classes.appBar, {\r\n          [classes.appBarDrawerOpen]: props.drawerOpen\r\n        })}\r\n      >\r\n        <Toolbar>\r\n          <IconButton\r\n            onClick={props.onMenuClick}\r\n            color=\"inherit\"\r\n            aria-label=\"menu\"\r\n            className={classes.menuButton}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography variant=\"h6\">{ activeAccountName }</Typography>\r\n          <IconButton\r\n            onClick={(e) => setMenuAnchor(e.currentTarget)}\r\n            color=\"inherit\"\r\n            aria-label=\"Change account\"\r\n            aria-haspopup=\"true\"\r\n          >\r\n            <ArrowDropDownCircleIcon />\r\n          </IconButton>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Menu\r\n        anchorEl={menuAnchor}\r\n        open={Boolean(menuAnchor)}\r\n        onClose={() => setMenuAnchor(null)}\r\n      >\r\n        {accounts.map((a, index) => (\r\n          <MenuItem onClick={handleChangeAccount(index)} selected={activeAccountIndex} key={index}>\r\n            { a.name }\r\n          </MenuItem>\r\n        ))}\r\n        <MenuItem>All Accounts</MenuItem>\r\n        <MenuItem>Create New Account</MenuItem>\r\n      </Menu>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default TopAppBar;","import { createSlice } from '@reduxjs/toolkit';\r\n\r\nexport const navigationSlice = createSlice({\r\n  name: 'navigation',\r\n  initialState: {\r\n    user: 'New User',       // String or null\r\n    page: 'transactions',   // String or null\r\n  },\r\n  reducers: {\r\n    changePage: (state, action) => {\r\n      state.page = action.payload ? String(action.payload) : null;\r\n    },\r\n  }\r\n});\r\n\r\n// Actions\r\nexport const { changePage } = navigationSlice.actions;\r\n\r\n// Selectors\r\nexport const selectPage = state => state.navigation.page;\r\n\r\nexport default navigationSlice.reducer;","import { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport BookIcon from '@material-ui/icons/Book';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport { changePage, selectPage } from './navigationSlice';\r\nimport { drawerWidth } from '../../constants';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    \r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: theme.spacing(0, 1),\r\n    // Have the same height as the top app bar\r\n    ...theme.mixins.toolbar\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    whiteSpace: 'nowrap',   // Prevent text wrapping when closing the drawer\r\n  },\r\n  drawerOpen: {\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen\r\n    })\r\n  },\r\n  drawerClose: {\r\n    overflowX: \"hidden\",\r\n    width: theme.spacing(7),\r\n    // Have extra space for the scrollbar if needed\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen\r\n    })\r\n  }\r\n}));\r\n\r\n/**\r\n * See\r\n * - https://material-ui.com/components/drawers/#mini-variant-drawer\r\n * - https://material-ui.com/api/drawer/\r\n * - https://github.com/mui-org/material-ui/blob/master/docs/src/pages/getting-started/templates/dashboard/Dashboard.js\r\n * - https://material-ui.com/getting-started/templates/dashboard/\r\n */\r\nfunction SideDrawer(props) {\r\n  const classes = useStyles();\r\n  const activePage = useSelector(selectPage);\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <Drawer\r\n      variant=\"permanent\"\r\n      anchor=\"left\"\r\n      classes={{\r\n        paper: clsx({\r\n          [classes.drawerOpen]: props.open,\r\n          [classes.drawerClose]: !props.open\r\n        })\r\n      }}\r\n      className={clsx(classes.drawer, {\r\n        [classes.drawerOpen]: props.open,\r\n        [classes.drawerClose]: !props.open\r\n      })}\r\n    >\r\n      <div className={classes.toolbar}>\r\n        <IconButton onClick={props.onClose}>\r\n          <ChevronLeftIcon />\r\n        </IconButton>\r\n      </div>\r\n      <Divider />\r\n      <List component=\"nav\" aria-label=\"// TODO\">\r\n        <ListItem\r\n          button\r\n          selected={activePage === 'transactions'}\r\n          onClick={() => dispatch(changePage('transactions'))}\r\n        >\r\n          <ListItemIcon>\r\n            <CreateIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Transactions\" />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={activePage === 'capital-changes'}\r\n          onClick={() => dispatch(changePage('capital-changes'))}\r\n        >\r\n          <ListItemIcon>\r\n            <CreateIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Capital changes\" />\r\n        </ListItem>\r\n        <ListItem\r\n          button\r\n          selected={activePage === 'journals'}\r\n          onClick={() => dispatch(changePage('journals'))}\r\n        >\r\n          <ListItemIcon>\r\n            <BookIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Journals\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List component=\"nav\" aria-label=\"// TODO\">\r\n        <ListSubheader inset disableSticky={true}>Financials</ListSubheader>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Monthly\" />\r\n        </ListItem>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Quarterly\" />\r\n        </ListItem>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Biyearly\" />\r\n        </ListItem>\r\n        <ListItem button>\r\n          <ListItemIcon>\r\n            <AssignmentIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Yearly\" />\r\n        </ListItem>\r\n      </List>\r\n      <Divider />\r\n      <List component=\"nav\" aria-label=\"Account settings\">\r\n        <ListItem\r\n          button\r\n          selected={activePage === 'account-settings'}\r\n          onClick={() => dispatch(changePage('account-settings'))}>\r\n          <ListItemIcon>\r\n            <SettingsIcon />\r\n          </ListItemIcon>\r\n          <ListItemText primary=\"Account settings\" />\r\n        </ListItem>\r\n      </List>\r\n    </Drawer>\r\n  );\r\n}\r\n\r\nexport default SideDrawer;","import Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\n/**\r\n * A dialog to add or edit an object.\r\n * \r\n * Props:\r\n * - objectName: Name of the object to add or edit. Appears in the title.\r\n * - edit: true for edit mode, false for add mode (affects text).\r\n * - open: Dialog shows if true.\r\n * - onClose - Function called when the dialog requests to be closed (cancel button or click away).\r\n * - onEnter - Function called before the dialog is opened.\r\n * - onReset - Function called when the \"reset\" button is clicked.\r\n * - onSubmit - Function called when the \"Add/Edit\" button is clicked.\r\n * - dividers - Display the DialogContent dividers if true\r\n */\r\nfunction AddEditDialog(props) {\r\n  return (\r\n    <Dialog open={props.open} onClose={props.onClose} onEnter={props.onEnter}>\r\n      <DialogTitle>{ `${props.edit ? 'Edit' : 'Add'} ${props.objectName || 'Item'}` }</DialogTitle>\r\n      <DialogContent dividers={Boolean(props.dividers)}>\r\n        { props.children }\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.onClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={props.onReset} color=\"primary\">\r\n          Reset\r\n        </Button>\r\n        <Button onClick={props.onSubmit} color=\"primary\">\r\n          { props.edit ? 'Edit' : 'Add' }\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nexport default AddEditDialog;","import { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n// import { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport AddEditDialog from '../../components/AddEditDialog';\r\nimport { addTransaction, selectActiveAccount } from '../accounts/accountsSlice';\r\nimport { transaction } from '../../models/Account';\r\n\r\n/**\r\n * @returns The current local date and time in \"yyyy-mm-ddThh:mm:ss:SSS\" format.\r\n */\r\nfunction getCurrentLocalDateTime() {\r\n  const currentDateTime = new Date();\r\n  return new Date(currentDateTime - currentDateTime.getTimezoneOffset() * 60 * 1000).toISOString().slice(0, 19);\r\n}\r\n\r\n// const useStyles = makeStyles((theme) => ({\r\n//   root: {\r\n\r\n//   },\r\n// }));\r\n\r\nfunction AddEditTransactionDialog(props) {\r\n  // const classes = useStyles();\r\n  const [fields, setFields] = useState({\r\n    date: '',\r\n    base: '',\r\n    quote: '',\r\n    trade: '',\r\n    baseAmount: '',\r\n    quoteAmount: '',\r\n    price: '',\r\n    fee: '',\r\n    feeCurrency: '',\r\n    notes: '',\r\n  });\r\n  const dispatch = useDispatch();\r\n  const account = useSelector(selectActiveAccount);\r\n\r\n  const resetForm = () => {\r\n    setFields({\r\n      date: getCurrentLocalDateTime(),\r\n      base: '',\r\n      quote: account ? account.settings.baseCurrency.ticker : '',\r\n      trade: 'buy',\r\n      baseAmount: '',\r\n      quoteAmount: '',\r\n      price: 0,\r\n      fee: 0,\r\n      feeCurrency: 'quote',\r\n      notes: '',\r\n    });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    // TODO input validation\r\n    dispatch(addTransaction({\r\n      journal: props.index,\r\n      transaction: transaction(\r\n        fields.date,\r\n        fields.base,\r\n        fields.baseAmount,\r\n        fields.quote,\r\n        fields.quoteAmount,\r\n        0,\r\n        fields.fee,\r\n        fields.notes,\r\n      ),\r\n    }));\r\n    props.onDialogClose();\r\n  };\r\n  const handleDialogOpen = () => {\r\n    // Init form fields according to add or edit mode\r\n    if (props.edit) {\r\n      \r\n    } else {\r\n      resetForm();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AddEditDialog\r\n      objectName={'Transaction'}\r\n      edit={Boolean(props.edit)}\r\n      open={props.open}\r\n      onClose={props.onDialogClose}\r\n      onEnter={handleDialogOpen}\r\n      onReset={resetForm}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <Grid container spacing={1}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            type=\"datetime-local\"\r\n            size=\"small\"\r\n            label=\"Date\"\r\n            required\r\n            value={fields.date}\r\n            onChange={(e) => setFields(s => ({...s, date: e.target.value}))}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Amount\"\r\n            required\r\n            value={fields.baseAmount}\r\n            onChange={(e) => setFields(s => ({...s, baseAmount: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Asset\"\r\n            required\r\n            value={fields.base}\r\n            onChange={(e) => setFields(s => ({...s, base: e.target.value}))}\r\n          >\r\n            <MenuItem value={'USD'}>{ 'USD' }</MenuItem>\r\n            <MenuItem value={'BTC'}>{ 'BTC' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Total\"\r\n            required\r\n            value={fields.quoteAmount}\r\n            onChange={(e) => setFields(s => ({...s, quoteAmount: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Quote Currency\"\r\n            required\r\n            value={fields.quote}\r\n            onChange={(e) => setFields(s => ({...s, quote: e.target.value}))}\r\n          >\r\n            <MenuItem value={'USD'}>{ 'USD' }</MenuItem>\r\n            <MenuItem value={'BTC'}>{ 'BTC' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Price\"\r\n            required\r\n            value={fields.price}\r\n            onChange={(e) => setFields(s => ({...s, price: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Trade Type\"\r\n            required\r\n            value={fields.trade}\r\n            onChange={(e) => setFields(s => ({...s, trade: e.target.value}))}\r\n          >\r\n            <MenuItem value={'buy'}>{ 'Buy' }</MenuItem>\r\n            <MenuItem value={'sell'}>{ 'Sell' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={8}>\r\n          <TextField\r\n            type=\"number\"\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Fee\"\r\n            value={fields.fee}\r\n            onChange={(e) => setFields(s => ({...s, fee: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <TextField\r\n            select\r\n            fullWidth\r\n            size=\"small\"\r\n            label=\"Fee Currency\"\r\n            value={fields.feeCurrency}\r\n            onChange={(e) => setFields(s => ({...s, feeCurrency: e.target.value}))}\r\n          >\r\n            <MenuItem value={'base'}>{ 'Base' }</MenuItem>\r\n            <MenuItem value={'quote'}>{ 'Quote' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            multiline\r\n            fullWidth\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            label=\"Notes\"\r\n            value={fields.notes}\r\n            onChange={(e) => setFields(s => ({...s, notes: e.target.value}))}\r\n          >\r\n            <MenuItem value={'base'}>{ 'Base' }</MenuItem>\r\n            <MenuItem value={'quote'}>{ 'Quote' }</MenuItem>\r\n          </TextField>\r\n        </Grid>\r\n      </Grid>\r\n    </AddEditDialog>\r\n  );\r\n}\r\n\r\nexport default AddEditTransactionDialog;","\r\nimport { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport AddEditTransactionDialog from './AddEditTransactionDialog';\r\nimport { selectActiveAccount } from '../accounts/accountsSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    borderRadius: 0,\r\n    boxShadow: 'none',\r\n  },\r\n\r\n  fab: {\r\n    position: 'fixed',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nfunction TransactionSheet(props) {\r\n  const classes = useStyles();\r\n  const [dialogOpen, setDialogOpen] = useState(false);\r\n  const [dialogEdit, setDialogEdit] = useState(false);\r\n  // const account = useSelector(selectActiveAccountObject);\r\n\r\n  const openAddDialog = () => {\r\n    setDialogEdit(false);\r\n    setDialogOpen(true);\r\n  };\r\n  const openEditDialog = (tx) => {\r\n    setDialogEdit(true);\r\n    setDialogOpen(true);\r\n  };\r\n\r\n  return props.active && (\r\n    <div role=\"tabpanel\">\r\n      <TableContainer component={Paper} className={classes.root}>\r\n        <Table\r\n          size={'small'}\r\n        >\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>{ props.journal.columns.date.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.base.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.quote.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.baseAmount.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.quoteAmount.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.price.name }</TableCell>\r\n              <TableCell>{ props.journal.columns.notes.name }</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {props.journal.transactions.map((tx, index) => (\r\n              <TableRow key={index}>\r\n                <TableCell align=\"right\">{tx.date}</TableCell>\r\n                <TableCell align=\"right\">{tx.base}</TableCell>\r\n                <TableCell align=\"right\">{tx.quote}</TableCell>\r\n                <TableCell align=\"right\">{tx.baseAmount}</TableCell>\r\n                <TableCell align=\"right\">{tx.quoteAmount}</TableCell>\r\n                <TableCell align=\"right\">{tx.quoteAmount / tx.baseAmount}</TableCell>\r\n                <TableCell>{tx.notes}</TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n      <Fab color=\"secondary\" className={classes.fab} onClick={() => openAddDialog()}>\r\n        <AddIcon />\r\n      </Fab>\r\n      <AddEditTransactionDialog\r\n        journal={props.journal}\r\n        index={props.index}\r\n        open={dialogOpen}\r\n        edit={dialogEdit}\r\n        onDialogClose={() => setDialogOpen(false)}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default TransactionSheet;","import Typography from '@material-ui/core/Typography';\r\n\r\nfunction AddTransactionTypeForm(props) {\r\n\r\n  return props.active && (\r\n    <div role=\"tabpanel\">\r\n      <Typography variant=\"h3\">Add Transaction Type</Typography>\r\n    </div>\r\n  );\r\n}\r\n  \r\nexport default AddTransactionTypeForm;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Tabs from '@material-ui/core/Tabs';\r\nimport Tab from '@material-ui/core/Tab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport TransactionSheet from './TransactionSheet';\r\nimport AddTransactionTypeForm from './AddTransactionTypeForm';\r\nimport { selectActiveAccount } from '../accounts/accountsSlice';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // flexGrow: 1,\r\n    // backgroundColor: theme.palette.background.paper,\r\n  },\r\n}));\r\n\r\nfunction Transactions(props) {\r\n  const classes = useStyles();\r\n  const account = useSelector(selectActiveAccount);\r\n  const dispatch = useDispatch();\r\n  const journals = account ? account.journals : [];\r\n  const [activeTab, setActiveTab] = React.useState(0);\r\n\r\n  return (\r\n    <div>\r\n      <AppBar position=\"static\">\r\n        <Tabs value={activeTab} onChange={(e, v) => setActiveTab(v)} aria-label=\"Transactions tab\">\r\n          {/* TODO update key */}\r\n          {/* TODO aria labels */}\r\n          {journals.map((journal, index) =>\r\n            <Tab label={journal['name']} key={index} />\r\n          )}\r\n          <Tab icon={<AddIcon />} />\r\n        </Tabs>\r\n      </AppBar>\r\n      {/* TODO update key */}\r\n      {journals.map((journal, index) =>\r\n        <TransactionSheet journal={journal} index={index} active={activeTab === index} key={index} />\r\n      )}\r\n      <AddTransactionTypeForm\r\n        index={journals.length}\r\n        active={activeTab === journals.length}\r\n        key={journals.length}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Transactions;","\r\n\r\nfunction CapitalChanges(props) {\r\n  return (\r\n    <p>Capital Changes</p>\r\n  );\r\n}\r\n  \r\nexport default CapitalChanges;","\r\n\r\nfunction Journals(props) {\r\n    return (\r\n      <p>Journals</p>\r\n    );\r\n  }\r\n    \r\n  export default Journals;","import { useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport AddEditDialog from '../../components/AddEditDialog';\r\n\r\n/**\r\n * Add or change asset dialog React function component.\r\n * \r\n * Props:\r\n * - open: Dialog shows if true.\r\n * - handleCloseDialog - Function called when the dialog requests to be closed.\r\n * - handleOpenDialog - Function called before the dialog is opened.\r\n * - edit: Asset object to edit, null if add new asset.\r\n */\r\nfunction AddEditAssetDialog(props) {\r\n  const [fields, setFields] = useState({\r\n    name: '',\r\n    ticker: '',\r\n    precision: '',\r\n    pricePrecision: '',\r\n    isCurrency: '',\r\n    symbol: '',\r\n  });\r\n\r\n  const resetForm = () => {\r\n    setFields({\r\n      name: '',\r\n      ticker: '',\r\n      precision: 2,\r\n      pricePrecision: 2,\r\n      isCurrency: false,\r\n      symbol: '',\r\n    });\r\n  };\r\n\r\n  const handleDialogOpen = () => {\r\n    if (props.edit) {\r\n      setFields({\r\n        name: props.edit.name,\r\n        ticker: props.edit.ticker,\r\n        precision: props.edit.precision,\r\n        pricePrecision: props.edit.pricePrecision,\r\n        isCurrency: props.edit.isCurrency,\r\n        symbol: props.edit.symbol,\r\n      });\r\n    } else {\r\n      resetForm();\r\n    }\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    console.log('submitted');\r\n    props.onDialogClose();\r\n  };\r\n\r\n  return (\r\n    <AddEditDialog\r\n      objectName={'Asset'}\r\n      edit={Boolean(props.edit)}\r\n      open={props.open}\r\n      onClose={props.onDialogClose}\r\n      onEnter={handleDialogOpen}\r\n      onReset={resetForm}\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <Grid container spacing={2}>\r\n        <Grid item xs={12}>\r\n          <TextField\r\n            type=\"text\"\r\n            label=\"Asset Name\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={fields.name}\r\n            onChange={(e) => setFields(s => ({...s, name: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={5}>\r\n          <TextField\r\n            type=\"text\"\r\n            label=\"Ticker\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={fields.ticker}\r\n            onChange={(e) => setFields(s => ({...s, ticker: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={3}>\r\n          <TextField\r\n            type=\"text\"\r\n            label=\"Symbol\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            value={fields.symbol}\r\n            onChange={(e) => setFields(s => ({...s, symbol: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={4}>\r\n          <FormControlLabel\r\n            control={<Checkbox />}\r\n            checked={fields.isCurrency}\r\n            onChange={(e) => setFields(s => ({...s, isCurrency: e.target.checked}))}\r\n            label=\"Currency\"\r\n            labelPlacement=\"end\"\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Precision\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={fields.precision}\r\n            onChange={(e) => setFields(s => ({...s, precision: e.target.value}))}\r\n          />\r\n        </Grid>\r\n        <Grid item xs={6}>\r\n          <TextField\r\n            type=\"number\"\r\n            label=\"Price Precision\"\r\n            fullWidth\r\n            variant=\"outlined\"\r\n            size=\"small\"\r\n            required\r\n            value={fields.pricePrecision}\r\n            onChange={(e) => setFields(s => ({...s, pricePrecision: e.target.value}))}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </AddEditDialog>\r\n  );\r\n}\r\n\r\nexport default AddEditAssetDialog;","import { Fragment, useState } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Container from '@material-ui/core/Container';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddEditAssetDialog from './AddEditAssetDialog';\r\nimport { changeAccountingCurrency, selectActiveAccountAccountingCurrency } from './accountsSlice';\r\n\r\nfunction AccountSettings(props) {\r\n  const [baseCurrencyDialogOpen, setBaseCurrencyDialogOpen] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const accountingCurrency = useSelector(selectActiveAccountAccountingCurrency);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Container>\r\n        <Typography variant=\"h4\">Account Settings</Typography>\r\n        <Grid container>\r\n          <Grid item xs={12}>\r\n            <Button onClick={() => setBaseCurrencyDialogOpen(true)}>Edit Base Currency</Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n      <AddEditAssetDialog\r\n        open={baseCurrencyDialogOpen}\r\n        onDialogClose={() => setBaseCurrencyDialogOpen(false)}\r\n        edit={accountingCurrency}\r\n      />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default AccountSettings;","import { useSelector } from 'react-redux';\r\nimport Transactions from './features/transactions/Transactions';\r\nimport CapitalChanges from './features/capital-changes/CapitalChanges';\r\nimport Journals from './features/journals/Journals';\r\nimport AccountSettings from './features/accounts/AccountSettings';\r\nimport { selectPage } from './features/navigation/navigationSlice';\r\n\r\nfunction AppContent(props) {\r\n  const activePage = useSelector(selectPage);\r\n  switch (activePage) {\r\n    case 'transactions':\r\n      return <Transactions {...props} />;\r\n    case 'capital-changes':\r\n      return <CapitalChanges {...props} />;\r\n    case 'journals':\r\n      return <Journals {...props} />;\r\n    case 'account-settings':\r\n      return <AccountSettings {...props} />;\r\n    default:\r\n      console.warn(`Unable to navigate to page: ${activePage}`);\r\n      return <Transactions {...props} />;\r\n  }\r\n}\r\n\r\nexport default AppContent;","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport TopAppBar from './features/navigation/TopAppBar';\r\nimport SideDrawer from './features/navigation/SideDrawer';\r\nimport AppContent from './AppContent';\r\nimport { addDefaultAccount } from './features/accounts/accountsSlice';\r\n\r\nconst styles = {\r\n  root: {\r\n    // Allow content to grow\r\n    display: 'flex',\r\n  },\r\n  content: {\r\n    // Let content grow horizontally\r\n    flexGrow: 1,\r\n  }\r\n}\r\n\r\nclass App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      drawerOpen: false,\r\n    };\r\n\r\n    this.openDrawer = this.openDrawer.bind(this);\r\n    this.closeDrawer = this.closeDrawer.bind(this);\r\n  }\r\n\r\n  openDrawer() {\r\n    this.setState({drawerOpen: true});\r\n  }\r\n\r\n  closeDrawer() {\r\n    this.setState({drawerOpen: false});\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Init with test data\r\n    this.props.dispatch(addDefaultAccount('Coinbase'));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <React.Fragment>\r\n        <div className={this.props.classes.root}>\r\n          <TopAppBar\r\n            onMenuClick={this.openDrawer}\r\n            drawerOpen={this.state.drawerOpen}\r\n          />\r\n          <aside>\r\n            <SideDrawer open={this.state.drawerOpen} onClose={this.closeDrawer} />\r\n          </aside>\r\n          <main className={this.props.classes.content}>\r\n            {/* Spacing with (height = top app bar height) so content is not clipped by the fixed app bar */}\r\n            <Toolbar />\r\n            <AppContent />\r\n          </main>\r\n        </div>\r\n      </React.Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withStyles(styles)(connect()(App));","import { configureStore } from '@reduxjs/toolkit';\r\nimport navigationReducer from '../features/navigation/navigationSlice';\r\nimport accountsReducer from '../features/accounts/accountsSlice';\r\n\r\nexport default configureStore({\r\n  reducer: {\r\n    navigation: navigationReducer,\r\n    accounts: accountsReducer,\r\n  },\r\n});","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport './index.css';\r\nimport App from './App';\r\nimport store from './app/store';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CssBaseline />\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}